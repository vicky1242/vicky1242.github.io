!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9bf2cb0e-813c-4b82-9bc0-dd71a8869b8a",e._sentryDebugIdIdentifier="sentry-dbid-9bf2cb0e-813c-4b82-9bc0-dd71a8869b8a")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{53970:function(e,t){t.Z={src:"/_next/static/media/qr-code.468d78c0.svg",height:32,width:32,blurWidth:0,blurHeight:0}},3877:function(e,t,n){n.d(t,{WP:function(){return b},r$:function(){return l.r$}});var r=n(82323),a=n(32099),s=n(73187),l=n(439),d=n(13430),o=n(78825),i=n(31545),c=n(10439);let u=(e,t,n)=>{if(!t||!n||!e)return{spendableBalance:e,gasCost:"0"};let r=s.ns.times((0,o.d)(n),l.r$).toString();return{spendableBalance:s.ns.lt(r,e)?s.ns.minus(e,r):"0",gasCost:r}},b=e=>{let t=!!(e&&!((0,s.eR)(null==e?void 0:e.network)&&(null==e?void 0:e.tokenAddress))),{balance:n,shouldShowBalance:l}=(0,c.Z)(e),{data:o}=(0,i.G)({chainId:e?(0,d.nQ)(e):1,formatUnits:"wei",query:{enabled:t}});return(0,a._)((0,r._)({},u(n||"",t,null==o?void 0:o.maxFeePerGas)),{shouldShowBalance:l})}},44991:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(97458),a=n(73187),s=n(62420),l=n(54757),d=n.n(l),o=n(52983),i=n(45254),c=n(54193),u=n(96017),b=n(66729),f=n(82643);let h=()=>{let e=!!window.webbtc,t=async()=>{var t;if(!e)throw Error("webbtc is not available");await (null===(t=window.webbtc)||void 0===t?void 0:t.enable())};return{getWebBtcAddress:async()=>{var n;if(!e)throw Error("webbtc is not available");await t();let r=await (null===(n=window.webbtc)||void 0===n?void 0:n.getAddress());return null==r?void 0:r.address},isWebBtcAvailable:e}};var m=n(47331);let w=[a.yw.btc],g=e=>w.includes(e);var v=n(22574),p=n(40558),x=n(17239),y=e=>{let{method:t,fieldId:n,setFormValue:l}=e,[w,y]=(0,o.useState)(!1),{setModalIsOpen:k,setTransactionState:N,TransactionStates:j}=(0,b.d)(),C=(0,u.Z)(),{isConnected:E,address:_}=(0,x.m)(),{logEvent:R}=(0,i.z)(),{connector:I}=(0,x.m)(),D=(0,s.h)(I),{isWebBtcAvailable:O,getWebBtcAddress:S}=h(),{publicKey:Z}=(0,f.X)(),A=(0,c.t)(),M=O&&g(t.id),G=t.network===a.B9.solana,L=(null==D?void 0:D.text)==="Wallet",W=E||!!(0,v.cU)(),Q=_||(0,v.cU)();(0,o.useEffect)(()=>{w&&t.network===a.B9.solana&&Z&&(l(n,Z),k(!1),y(!1)),w&&Q&&W&&t.network!==a.B9.solana&&(l(n,Q),k(!1),y(!1))},[w,Q,n,l,Z]);let z=async e=>{null==e||e.preventDefault(),R("Get Address from WebBtc button click");let t=await S();t&&l(n,t)},B=async e=>{if(null==e||e.preventDefault(),R("Get Address from MetaMask button click"),!W){k(!0),y(!0),N(j.PENDING_WALLET_CONNECTION);return}Q&&l(n,Q)},P=async e=>{if(null==e||e.preventDefault(),R("Get Address from Solana button click"),!Z){k(!0),y(!0),N(j.PENDING_WALLET_CONNECTION);return}Z&&l(n,Z)};if(C)return null;let q="dark:border-smoke dark:hover:border-flashbang-white border-dark-gray dark:text-flashbang-white text-new-black dark:focus:shadow-outline-white focus:shadow-outline-new-black flex items-center rounded-md border px-3 py-1 text-base uppercase tracking-wide walet-hide";return G?(0,r.jsx)("button",{type:"button",onClick:P,className:q,children:(0,r.jsx)("span",{children:"Get address from Solana wallet"})}):M?(0,r.jsx)("button",{type:"button",onClick:z,className:q,children:(0,r.jsx)("span",{children:"Get address from bitcoin wallet"})}):(0,m._1)(t)&&A?(0,r.jsxs)("button",{type:"button",onClick:B,className:q,children:[W&&(null==D?void 0:D.icon)&&(0,r.jsx)("div",{style:{backgroundColor:null==D?void 0:D.bgColor},className:"mr-2 flex aspect-square w-7 items-center justify-center rounded-full",children:(0,r.jsx)(d(),{unoptimized:!0,src:null==D?void 0:D.icon,alt:"".concat(null==I?void 0:I.name," Icon"),className:(0,p.m6)((null==D?void 0:D.bgColor)?"w-4":"w-5",L&&"invert dark:invert-0"),width:(null==D?void 0:D.bgColor)?16:20,height:(null==D?void 0:D.bgColor)?16:20})}),(0,r.jsxs)("span",{children:["Get address from ",W?null==I?void 0:I.name:"Wallet"]})]}):null}},20494:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(82323),a=n(32099),s=n(37579),l=n(97458),d=n(73187),o=n(27306),i=n(42138),c=n(52983),u=n(7969);let b=["cannot estimate gas","insufficient funds","invalid opcode"];var f=e=>{var{message:t,toast:n}=e,f=(0,s._)(e,["message","toast"]);let h=t,m=!!h;return(h.includes("Add x-sideshift-secret header")&&(h="Account required. Visit the account page to create one."),b.some(e=>h.includes(e))&&(h="Insufficient funds for shift"),(0,c.useEffect)(()=>{n&&h&&m&&(0,i.CF)({text:(0,o.Ii)(h),type:"error"})},[h]),n||!m)?null:(0,l.jsx)("div",(0,a._)((0,r._)({className:"mb-0 inline-block"},f),{"data-sentry-component":"ErrorMessage","data-sentry-source-file":"ErrorMessage.tsx",children:(0,l.jsx)(u.Z,{className:"mb-0 inline-block",type:d.GO.NK.Danger,"data-sentry-element":"Alert","data-sentry-source-file":"ErrorMessage.tsx",children:h})}))}},96294:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(97458),a=n(31585),s=n(94877),l=n(15308),d=n(88024),o=n.n(d),i=n(54757),c=n.n(i),u=n(52983),b=n(82886),f={src:"/_next/static/media/camera-flip.b5f4840d.svg",height:24,width:28,blurWidth:0,blurHeight:0},h=n(20494),m=n(79197),w=n(47331),g=n(28110),v=n(82323);let p=e=>({address:new URL(e).pathname}),x=[["web+stellar",e=>{try{let t=new URL(e),n=t.searchParams.get("memo");return(0,v._)({address:t.searchParams.get("destination")||""},!!n&&{memo:n})}catch(e){return(0,g.Z)(["Parsing XLM data from QR code failed.",e],g._.ERROR),{address:""}}}],["ethereum:",p],["bitcoin:",p],["solana:",p],["dogecoin:",p],["litecoin:",p]],y=e=>{let t={address:e};return x.forEach(n=>{let[r,a]=n;e.startsWith(r)&&(t=a(e))}),t},k=o()(()=>n.e(3443).then(n.t.bind(n,43443,23)),{loadableGenerated:{webpack:()=>[43443]},ssr:!1,loading:()=>(0,r.jsx)(m.Z,{})});var N=e=>{let{closeModal:t,modalIsOpen:n,settleAsset:d,inputId:o,memoId:i,setFormValue:m}=e,[v,p]=(0,u.useState)(),[x,N]=(0,u.useState)(b.tq?"environment":"user"),j=()=>{if("user"===x){N("environment");return}N("user")},C=e=>{null==e||e.preventDefault(),j()},E=b.tq||w.z3||(0,l.Z)();return(0,r.jsxs)(s.u,{isOpen:n,handleClose:()=>{p(void 0),t()},title:"Scan ".concat(d," address QR Code"),"data-sentry-element":"Modal","data-sentry-component":"QrScanner","data-sentry-source-file":"QrScanner.tsx",children:[(0,r.jsxs)("div",{className:"border-punk-red relative mx-8 mb-8 overflow-hidden rounded-lg border-2 sm:mx-auto sm:w-60 ",children:[(0,r.jsx)(k,{delay:300,facingMode:x,onError:e=>{p("Your camera is blocked or disabled."),(0,g.Z)([e],g._.ERROR)},onScan:e=>{if(!e)return;let{address:n,memo:r}=y(e);m(o,n,{shouldValidate:!0}),r&&m(i,r),t()},showViewFinder:!1,style:{width:"100%"},"data-sentry-element":"QrReader","data-sentry-source-file":"QrScanner.tsx"}),E&&(0,r.jsx)(a.z,{variant:"secondary",role:"button",className:"absolute bottom-2 right-2 m-0 flex items-center py-1 px-2",buttonSize:"small",onClick:()=>C(),children:(0,r.jsx)(c(),{src:f,width:28,height:28,alt:"Flip camera",className:"relative w-7 max-w-full"})})]}),v&&(0,r.jsx)(h.Z,{toast:!0,message:v})]})}},98160:function(e,t,n){n.d(t,{R:function(){return u}});var r=n(71157),a=n(15308),s=n(84034),l=n(47331),d=n(28110);let o=window,i=e=>{o.parent.postMessage(e,"*")},c=(e,t)=>{try{i({name:e,payload:t})}catch(t){(0,d.Z)(["A third party event handler for '".concat(e,"' had an unhandled error:"),t],d._.ERROR)}},u=()=>{let[e]=(0,r.D)(s.rA);return{handleOrderEvent:e=>{c("order",e)},handleDepositEvent:e=>{c("deposit",e)},handleSettledEvent:e=>{c("settled",e)},handleHideWidget:()=>{o.parent.postMessage("close-sideshift-widget","*")},trackUsage:()=>{let t=document.referrer;!(t.includes("localhost")||l.Y8||l.z3||(0,a.Z)())&&t&&e({variables:{url:t}}).catch(e=>(0,d.Z)([e],d._.ERROR))}}}},97886:function(e,t,n){n.d(t,{Q:function(){return a}});var r=n(70139);let a=(e,t)=>e?"".concat((null==t?void 0:t.id)==="saibal"&&"saibal"===e.id?"SideShift account ID":"Your ".concat((0,r.fE)(e)," address")):"Your Address"},1760:function(e,t,n){n.d(t,{N:function(){return o}});var r=n(33526),a=n(97458),s=n(52983),l=n(11368),d=n(49472);let o=(0,s.forwardRef)((e,t)=>{var{onClick:n,isLoading:s,className:o,Icon:i,buttonLabel:c,errorMessage:u,buttonDisabled:b,label:f}=e,h=(0,r._)(e,["onClick","isLoading","className","Icon","buttonLabel","errorMessage","buttonDisabled","label"]);return(0,a.jsx)(d.I,Object.assign({autoComplete:"off",className:(0,l.m6)("pr-[5.5rem]",o),isLoading:s,ref:t,spellCheck:!1,errorMessage:u,label:f},h,{children:(0,a.jsxs)("button",Object.assign({type:"button",onClick:n,className:"dark:text-flashbang-white text-new-black dark:focus:shadow-outline-white focus:shadow-outline-new-black absolute top-[0.625rem] right-3 z-10 rounded-md p-3 qr-cde-hide",disabled:b},{children:[(0,a.jsx)("span",Object.assign({className:"sr-only"},{children:c})),(0,a.jsx)("div",Object.assign({className:"h-8 w-8"},{children:(0,a.jsx)(i,{className:"h-full"})}))]}))}))})}}]);