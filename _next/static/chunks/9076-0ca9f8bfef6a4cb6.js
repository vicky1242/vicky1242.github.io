!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cbad855d-fa9d-468c-8b0c-07af4a4e11ae",e._sentryDebugIdIdentifier="sentry-dbid-cbad855d-fa9d-468c-8b0c-07af4a4e11ae")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9076],{32117:function(e,t,s){"use strict";var a,l=s(52983);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}t.Z=e=>l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:46,height:32,fill:"none",viewBox:"0 0 46 32"},e),a||(a=l.createElement("g",{clipPath:"url(#clip0_13115_567)"},l.createElement("path",{fill:"currentColor",d:"M22.673 31.08c-7.905 0-15.466-4.912-22.48-14.607a1 1 0 0 1-.022-1.14C.554 14.758 9.692 1.237 22.87.926 30.942.713 38.652 5.57 45.802 15.294a1 1 0 0 1 .031 1.14c-.383.585-9.524 14.33-22.711 14.64q-.225.005-.45.005M2.237 15.877c6.61 8.923 13.63 13.365 20.829 13.197 10.685-.246 18.843-10.611 20.697-13.17-6.612-8.78-13.638-13.129-20.837-12.98-10.677.246-18.828 10.426-20.689 12.953"}),l.createElement("path",{fill:"currentColor",d:"M23 24.219A8.219 8.219 0 1 1 31.219 16 8.23 8.23 0 0 1 23 24.219M23 9.78A6.219 6.219 0 1 0 29.219 16 6.226 6.226 0 0 0 23 9.781"}))))},97808:function(e,t){"use strict";t.Z={src:"/_next/static/media/metamask-icon.ccbac822.svg",height:1025,width:1025,blurWidth:0,blurHeight:0}},82466:function(e,t,s){"use strict";s.d(t,{X:function(){return i}});var a=s(89880),l=s(52983),n=s(74219),r=s(63412),d=s(72971);let i=e=>{let{message:t,show:s=!0}=e,[i,o]=(0,l.useState)(!1),{show:c,showNewMessage:m}=(0,n.useIntercom)(),u=(0,d.l)().get(r.I4.OPEN_SUPPORT),{isReady:x}=(0,a.useRouter)();(0,l.useEffect)(()=>{u&&!i&&s&&x&&(c(),m(t),o(!0))},[u,s,x])}},48437:function(e,t,s){"use strict";s.d(t,{Z:function(){return w}});var a=s(97458),l=s(73187),n=s(31585),r=s(69800),d=s.n(r),i=s(86099),o=s(52983),c=s(82886),m=s(79197),u=s(54193),x=s(52654),p=s(28719),h=s(63412),f=s(28110),v=s(7969),g=s(29456);let y=e=>"https://t.me/".concat("sideshiftbot","?start=").concat(e),j=e=>{let{payload:t}=e,s=(0,o.createRef)();return(0,o.useEffect)(()=>{if(t){let e=y(t),a=s.current;i.rT(a,e,{width:256,margin:5,color:{light:"F5F5F5",dark:"21201C"}}).catch(e=>{(0,f.Z)([e],f._.ERROR)})}},[t,s]),t?(0,a.jsx)("canvas",{ref:s,role:"img","aria-label":"QR code with the Telegram link","data-sentry-component":"QrCode","data-sentry-source-file":"LinkTelegram.tsx"}):(0,a.jsx)("div",{"data-sentry-component":"QrCode","data-sentry-source-file":"LinkTelegram.tsx"})};var w=e=>{var t;let{forceMobile:s,isModal:r}=e,{telegramPairingPayload:i,loading:o,error:f}=(0,x.k)(),w=(0,u.t)(),b=null===(t=d().get())||void 0===t?void 0:t[l.W0];return w?f?(0,a.jsx)(p.default,{error:f}):b?o||!i?(0,a.jsxs)("div",{className:"my-12 mx-auto max-w-screen items-center gap-y-6 flex flex-col",children:[(0,a.jsx)(m.Z,{}),(0,a.jsx)(m.Z,{width:"18rem"}),(0,a.jsx)(m.Z,{width:"15rem"}),(0,a.jsx)(m.Z,{width:"14rem",height:"14rem"}),(0,a.jsx)(m.Z,{}),(0,a.jsx)(m.Z,{width:"18rem"})]}):(0,a.jsxs)("div",{className:"".concat(!r&&"my-12"," mx-auto max-w-lg px-8 pb-6 text-center"),"data-sentry-component":"LinkTelegram","data-sentry-source-file":"LinkTelegram.tsx",children:[!r&&(0,a.jsx)("h2",{className:"text-2xl",children:"Get Notified"}),(0,a.jsx)("p",{children:"Receive Telegram notifications about your shifts and staking rewards."}),c.tq||s?(0,a.jsx)("div",{"data-sentry-component":"renderMobile","data-sentry-source-file":"LinkTelegram.tsx",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Make sure Telegram is running. Tap the button below, then tap Start in Telegram."}),(0,a.jsx)("div",{className:"inline-block",children:(0,a.jsx)(n.z,{LinkComponent:g.r,role:"link",className:"mt-4",variant:"primary",external:!0,href:y(i),"data-sentry-element":"Button","data-sentry-source-file":"LinkTelegram.tsx",children:"Connect Telegram"})})]})}):(0,a.jsxs)("div",{"data-sentry-component":"renderNonMobile","data-sentry-source-file":"LinkTelegram.tsx",children:[(0,a.jsx)("h3",{className:"text-xl",children:"Scan QR with your phone"}),(0,a.jsx)("div",{children:(0,a.jsx)(j,{payload:i,"data-sentry-element":"QrCode","data-sentry-source-file":"LinkTelegram.tsx"})}),(0,a.jsxs)("p",{children:["Instructions:"," ",(0,a.jsx)("a",{href:h.jY.QR_INSTRUCTIONS_IOS.toString(),target:"_blank",rel:"noopener noreferrer",className:"text-pixel-blue",children:"iOS"})," ","|"," ",(0,a.jsx)("a",{href:h.jY.QR_INSTRUCTIONS_ANDROID.toString(),target:"_blank",rel:"noopener noreferrer",className:"text-pixel-blue",children:"Android"})]}),(0,a.jsxs)("p",{children:["Are you using Telegram on desktop or the QR code is broken? Try"," ",(0,a.jsx)("a",{href:y(i),target:"_blank",rel:"noopener noreferrer",className:"text-pixel-blue",children:"this link"}),"."]})]})]}):(0,a.jsxs)(v.Z,{type:l.GO.NK.Info,className:"md:max-w-[40rem] mt-6 md:mt-10",children:["You need a SideShift account to connect your Telegram account. Visit the"," ",(0,a.jsx)("a",{className:"dark:text-pixel-blue",href:h.XA.ACCOUNT,children:"account page"})," ","to create one."]}):null}},39076:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return sx}});var a,l,n,r,d,i,o,c=s(82323),m=s(32099),u=s(97458),x=s(23236),p=s(73187),h=s(27306),f=s(31585),v=s(47168),g=s(89880),y=s(73399),j=s(52983);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var b=e=>j.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:1e3,height:1e3,viewBox:"0 0 1000 1000"},e),l||(l=j.createElement("linearGradient",{id:"a",x1:"50%",x2:"50%",y1:"0%",y2:"99.258%"},j.createElement("stop",{offset:0,stopColor:"#2aabee"}),j.createElement("stop",{offset:1,stopColor:"#229ed9"}))),n||(n=j.createElement("g",{fill:"none",fillRule:"evenodd"},j.createElement("circle",{cx:500,cy:500,r:500,fill:"url(#a)"}),j.createElement("path",{fill:"#fff",d:"M226.328 494.722q218.64-95.258 291.59-125.6c138.855-57.755 167.707-67.787 186.513-68.118 4.137-.073 13.385.952 19.375 5.813 5.059 4.104 6.45 9.649 7.117 13.54s1.495 12.757.836 19.684c-7.525 79.061-40.084 270.924-56.648 359.474-7.009 37.47-20.81 50.033-34.17 51.262-29.036 2.672-51.085-19.189-79.208-37.624-44.006-28.847-68.867-46.804-111.583-74.953-49.366-32.531-17.364-50.411 10.77-79.631C468.281 550.92 596.214 434.556 598.69 424c.31-1.32.597-6.241-2.326-8.84s-7.239-1.71-10.353-1.003q-6.62 1.503-210.902 139.4-29.933 20.553-54.223 20.028c-17.853-.386-52.194-10.094-77.723-18.393-31.313-10.178-56.2-15.56-54.032-32.846q1.692-13.505 37.196-27.624"})))),N=s(94877),k=s(48437);let M=e=>{let{closeModal:t,modalIsOpen:s,forceMobile:a}=e;return(0,u.jsx)(N.u,{handleClose:t,title:"Get Notified",isOpen:s,"data-sentry-element":"Modal","data-sentry-component":"LinkTelegramModal","data-sentry-source-file":"LinkTelegramModal.tsx",children:(0,u.jsx)(k.Z,{isModal:!0,forceMobile:a,"data-sentry-element":"LinkTelegram","data-sentry-source-file":"LinkTelegramModal.tsx"})})};var S=s(41994),A=s(45254),I=s(10123),C=s(87066),O=s(2046);(a=r||(r={})).AwaitingDeposit="awaiting_deposit",a.Complete="complete",a.Dead="dead",a.Expired="expired",a.Processing="processing",a.Refund="refund",a.Refunded="refunded",a.Refunding="refunding",a.Reviewing="reviewing",a.Unknown="unknown";let T={dead:"dead",pending:"processing",processing:"processing",refund:"refund",refunded:"refunded",refunding:"refunding",review:"reviewing",settled:"complete",settling:"processing"},F=()=>{let[e,t]=(0,j.useState)(null),{order:s}=(0,O.A)(),{logEvent:a}=(0,A.z)(),l=(0,j.useMemo)(()=>{var e;if(!s)return null;if(null==s?void 0:s.expired)return"expired";if(!(null!==s&&(null==s?void 0:null===(e=s.deposits)||void 0===e?void 0:e.length)>0))return"awaiting_deposit";let{status:t}=(0,C.Zd)(s.deposits);return T[t]||"unknown"},[s]);(0,j.useEffect)(()=>{if(l){if(!e){a("User loaded order: ".concat(l)),t(l);return}e!==l&&(a("User updated order: ".concat(l)),t(l))}},[l])};var D=s(74219),R=s(52654),E=e=>{var t,s;let{trackEvent:a,update:l}=(0,D.useIntercom)(),{session:n}=(0,R.k)(),r=null==e?void 0:null===(t=e.deposits[0])||void 0===t?void 0:t.status,d=null==e?void 0:null===(s=e.deposits[0])||void 0===s?void 0:s.depositTxid;(0,j.useEffect)(()=>{r&&a("order_".concat(r),{id:e.id,account_id:null==n?void 0:n.id,deposit_txid:d})},[a,r,null==e?void 0:e.id,null==n?void 0:n.id,d]),(0,j.useEffect)(()=>{(null==e?void 0:e.id)&&l({customAttributes:{order_id:e.id,account_id:null==n?void 0:n.id,deposit_txid:d}})},[l,e,null==n?void 0:n.id,d])},_=s(63686),L=s(96017);let z=()=>{let{logEvent:e}=(0,A.z)(),{telegramPairedAt:t}=(0,R.k)(),[s,a]=(0,j.useState)(!1);return{linkTelegramModalIsOpen:s,toggleLinkTelegramModal:()=>{s||e("Open Telegram modal"),a(!s)},hasPairedTelegram:!!t}};var Z=s(82466),W=s(63412),U=s(72971);let B=()=>{let{order:e}=(0,O.A)(),t=null==e?void 0:e.deposits[e.deposits.length-1],s=null==t?void 0:t.status,a=(0,U.l)().get(W.I4.SUCCESS_URL);(0,j.useEffect)(()=>{s===p.UserDepositStatus.settled&&a&&(window.location.href=a)},[s,null==e?void 0:e.expired])};var Q=s(98160),H=s(51500),P=s(46408),V=s(46399),q=s(11681),G=s(7969),Y=s(81468);let K=()=>(0,u.jsx)("div",{"aria-label":"loading",className:"flex h-[calc(100vh-8rem)] min-h-full w-full items-center justify-center md:h-[calc(100vh-29rem)]","data-sentry-component":"Loading","data-sentry-source-file":"Loading.tsx",children:(0,u.jsx)("div",{className:"h-12 w-12",children:(0,u.jsx)(Y.$,{size:"3rem","data-sentry-element":"Spinner","data-sentry-source-file":"Loading.tsx"})})});var $=s.p+"static/media/shift-fail.1137ecab.mp3",X=s.p+"static/media/shift-success.c435c9f9.mp3",J=s(991);let ee={SHIFT_SUCCESS:"shift-success",SHIFT_FAIL:"shift-fail"},et=new Map([[ee.SHIFT_SUCCESS,X],[ee.SHIFT_FAIL,$]]),es=e=>{let t=new Audio(et.get(e));t.addEventListener("canplaythrough",()=>t.play())},ea=e=>{[ee.SHIFT_SUCCESS,ee.SHIFT_FAIL].includes(e)&&(0,J.rV)(J.uf.PLAY_AUDIO_NOTIFICATION_ON_SHIFT_COMPLETION)&&es(e)},{refund:el,settled:en,dead:er,refunded:ed}=p.UserDepositStatus,ei=()=>{let{order:e,previousOrderData:t}=(0,O.A)(),s=null==e?void 0:e.deposits[e.deposits.length-1],a=null==s?void 0:s.status;(0,j.useEffect)(()=>{if(!a&&!(null==e?void 0:e.expired)||!t)return;let l=[en,ed].map(e=>e.toString()),n=[er,el].map(e=>e.toString());([...l,...n].includes((null==s?void 0:s.status)||"")||(null==e?void 0:e.expired))&&(a&&l.includes(a)?ea(ee.SHIFT_SUCCESS):(a&&n.includes(a)||(null==e?void 0:e.expired))&&ea(ee.SHIFT_FAIL))},[a,null==e?void 0:e.expired])},eo=e=>{let[t,s]=(0,j.useState)(void 0);return(0,j.useEffect)(()=>{if(e){var t,a,l,n;let r="".concat(null===(t=e.depositMethod)||void 0===t?void 0:t.asset,"-").concat(null===(a=e.depositMethod)||void 0===a?void 0:a.id),d="".concat(null===(l=e.settleMethod)||void 0===l?void 0:l.asset,"-").concat(null===(n=e.settleMethod)||void 0===n?void 0:n.id),i="/favicon/".concat(r,"/").concat(d);s({svg:i,png:i,ico:i})}},[null==e?void 0:e.id]),t};var ec=s(99840),em=s(71157),eu=s(79462),ex=s(42138),ep=s(45672),eh=s(32019);let ef=e=>{let{minutes:t,seconds:s}=e;return(0,u.jsxs)("time",{"aria-label":"Time remaining",className:"dark:text-smoke text-new-black","aria-live":"polite","data-sentry-component":"countdownRenderer","data-sentry-source-file":"CancelOrderModal.tsx",children:[(0,ep.Bu)(t),":",(0,ep.Bu)(s)]})},ev=e=>{let{isOpen:t,closeModal:s,order:a,refetch:l}=e,[n,{loading:r}]=(0,em.D)(q.uk,{variables:{orderId:a.id}}),d=new Date(a.createdAtISO).getTime()+3e5,[i,o]=(0,j.useState)(d<=Date.now()),{setOrderId:c}=(0,H.M)(),{resetLedgerOrder:m}=(0,eh.c5)(),x=(0,L.Z)(),p=(0,_.Z)(),v=x||p,g=async()=>{if(x&&!i){c(void 0);return}if(p&&!i){null==m||m();return}try{await n(),await (null==l?void 0:l()),s(),(0,ex.CF)({type:"info",text:"Successfully cancelled order"}),c(void 0),null==m||m()}catch(e){e instanceof eu.c&&(0,ex.CF)({type:"error",text:(0,h.Ii)(null==e?void 0:e.message)})}};return(0,j.useEffect)(()=>{o(d<=Date.now())},[t]),(0,u.jsxs)(N.u,{isOpen:t,handleClose:s,title:"Cancel Your Order","data-sentry-element":"Modal","data-sentry-component":"CancelOrderModal","data-sentry-source-file":"CancelOrderModal.tsx",children:[(0,u.jsx)("p",{className:"mt-0 mb-2 text-left font-light",children:"Are you sure you want to cancel this order? This action can not be undone. Any deposits made after cancelling will be lost, or refunded."}),!i&&d&&!v&&(0,u.jsxs)("p",{className:"text-left font-light",children:["Your order can be cancelled in:\xa0",(0,u.jsx)(ep.ZP,{date:d,renderer:ef,onComplete:()=>o(!0)})]}),(0,u.jsxs)("div",{className:"my-6 grid gap-x-8 gap-y-4 sm:grid-cols-2",children:[(0,u.jsx)(f.z,{isLoading:r,role:"button",variant:"primary",onClick:g,buttonSize:"normal",disabled:!i&&!v,"data-sentry-element":"Button","data-sentry-source-file":"CancelOrderModal.tsx",children:"Cancel Order"}),(0,u.jsx)(f.z,{disabled:r,role:"button",variant:"secondary",onClick:s,buttonSize:"normal","data-sentry-element":"Button","data-sentry-source-file":"CancelOrderModal.tsx",children:"Go Back"})]})]})},eg=e=>{var t;let{orderId:s,createdAtISO:a}=e,{show:l}=(0,D.useIntercom)(),[n,r]=(0,j.useState)(!1),{order:d,refetchOrder:i,txConfirmedInWallet:o}=(0,O.A)();return d?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"dark:border-darker-gray mt-12 pt-6 md:border-t",children:(0,u.jsxs)("div",{className:"m-auto flex flex-col justify-between gap-4 sm:flex-row",children:[(0,u.jsxs)("ul",{className:"dark:text-smoke text-left","aria-label":"Order Details",children:[(0,u.jsxs)("li",{children:[(0,u.jsxs)("span",{"aria-hidden":"true",children:["Order: #",(0,u.jsx)("span",{className:"select-all",children:s})]}),(0,u.jsxs)("span",{className:"sr-only",children:["Order number is ",s]})]}),(0,u.jsx)("li",{children:(0,u.jsxs)("span",{children:["Created @"," ",(0,u.jsx)("time",{dateTime:a,children:(0,ec.Z)(new Date(a),"yyyy.MM.dd HH:mm")})]})})]}),(0,u.jsxs)("ul",{className:"dark:text-smoke sm:text-right right-part-hide-support",children:[(0,u.jsx)("li",{children:"Something wrong?"}),(0,u.jsxs)("li",{children:[(0,u.jsx)("button",{"aria-label":"Open support chat",onClick:l,className:"my-0 cursor-pointer p-0 underline",children:"Contact support"}),!(null==d?void 0:null===(t=d.deposits)||void 0===t?void 0:t.length)&&!(null==d?void 0:d.expired)&&!o&&(0,u.jsxs)(u.Fragment,{children:["\xa0or\xa0",(0,u.jsx)("button",{"aria-label":"Cancel Order",className:"cursor-pointer p-0 underline",onClick:()=>r(!0),children:"Cancel order"})]})]})]})]})}),(0,u.jsx)(ev,{isOpen:n,closeModal:()=>r(!1),refetch:i,order:d,"data-sentry-element":"CancelOrderModal","data-sentry-source-file":"OrderFooter.tsx"})]}):null};var ey=s(95541),ej=s(95781),ew=s(6890),eb=s(19311);function eN(){return(eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var ek=e=>j.createElement("svg",eN({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 48"},e),d||(d=j.createElement("path",{fill:"currentColor",d:"M131.987-518.224q-24.75 0-42.375-17.625t-17.625-42.375v-434q0-24.75 17.625-42.375t42.375-17.626h405.655v-96q0-78.85 55.606-134.425t134.5-55.574 134.394 55.574 55.5 134.426v96H651.987c-16.5 0 30.625 5.874 42.375 17.624q17.625 17.625 17.625 42.375v434q0 24.75-17.625 42.376t-42.375 17.625zm0-60h520v-434h-520zm260.168-140q31.832 0 54.332-22.031 22.5-22.032 22.5-52.97 0-30-22.668-54.5t-54.5-24.5-54.332 24.5-22.5 55 22.668 52.5 54.5 22m205.487-354h260v-96q0-54.168-37.882-92.084-37.883-37.917-92-37.917-54.118 0-92.118 37.917t-38 92.083zm-465.655 494v-434z"}))),eM=s(3371),eS=s(81308),eA=s(66043);let eI=(e,t)=>(0,x.a)(q.OS,{variables:{depositMethodId:e,settleMethodId:t},skip:!e||!t}),eC=()=>{var e,t,s,a;let{order:l}=(0,O.A)(),{formatUsdToSelectedFiat:n}=(0,eA.n)(),{data:r,loading:d}=eI(null==l?void 0:null===(e=l.depositMethod)||void 0===e?void 0:e.id,null==l?void 0:null===(t=l.settleMethod)||void 0===t?void 0:t.id),{sendFeeUsd:i,totalFeesUsd:o,receiveFeeUsd:c,routingFeeUsd:m}=(null==r?void 0:r.estimateShiftNetworkFees)||{};return(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-5","data-sentry-component":"NetworkFees","data-sentry-source-file":"NetworkFees.tsx",children:[(0,u.jsxs)("header",{className:"font-display mt-5 flex items-center lg:mt-0 lg:w-48",children:["Network Fees",(null==r?void 0:r.estimateShiftNetworkFees)&&(parseFloat(null!=c?c:"0")>0||parseFloat(null!=i?i:"0")>0||parseFloat(null!=m?m:"0")>0)&&(0,u.jsx)(ew.u,{id:"network-fees-tooltip",place:"top",className:"ml-2",width:"unset",children:(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 whitespace-nowrap text-left",children:[parseFloat(null!=c?c:"0")>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{children:[null==l?void 0:null===(s=l.depositMethod)||void 0===s?void 0:s.asset," receiving fee:"]}),(0,u.jsx)("span",{children:c&&n(c)})]}),parseFloat(null!=i?i:"0")>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{children:[null==l?void 0:null===(a=l.settleMethod)||void 0===a?void 0:a.asset," sending fee:"]}),(0,u.jsx)("span",{children:i&&n(i)})]}),parseFloat(null!=m?m:"0")>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{children:"Shift routing fee:"}),(0,u.jsx)("span",{children:m&&n(m)})]})]})})]}),!d&&(null==r?void 0:r.estimateShiftNetworkFees)?(0,u.jsx)("span",{className:"dark:text-flashbang-white font-display",children:o&&parseFloat(null!=o?o:"0")>0?"".concat(n(o)):"No fees"}):(0,u.jsx)(eS.O,{className:"h-5 w-16"})]})},eO=()=>(0,u.jsx)(eb.Z,{className:"dark:fill-flashbang-white fill-new-black h-5 w-5","data-sentry-element":"LockIcon","data-sentry-component":"StyledLockIcon","data-sentry-source-file":"DepositInformation.tsx"}),eT=()=>(0,u.jsx)(ek,{className:"dark:fill-flashbang-white fill-new-black h-5 w-5","data-sentry-element":"UnlockIcon","data-sentry-component":"StyledUnlockIcon","data-sentry-source-file":"DepositInformation.tsx"}),eF=()=>{let{order:e}=(0,O.A)(),{type:t}=e||{},s=t===p.mr.fixed,a=!s,{rateProps:l}=(0,eM.U)({depositMethod:(null==e?void 0:e.depositMethod)||null,settleMethod:(null==e?void 0:e.settleMethod)||null});return e?(0,u.jsxs)("section",{className:"dark:text-smoke flex flex-col gap-5 uppercase","data-sentry-component":"DepositInformation","data-sentry-source-file":"DepositInformation.tsx",children:[s&&(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-5",children:[(0,u.jsx)("header",{className:"font-display mt-5 lg:mt-0 lg:w-48",children:(null==e?void 0:e.expired)?"Receiving amount":"You'll receive"}),(0,u.jsx)("span",{className:"dark:text-flashbang-white font-display",children:"".concat(e.settleAmount," ").concat(e.settleMethod.asset)})]}),(null==e?void 0:e.expired)?(0,u.jsxs)(u.Fragment,{children:[s&&(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-5",children:[(0,u.jsx)("header",{className:"font-display lg:w-48",children:(0,u.jsx)("div",{className:"font-display flex items-center",children:"Deposit amount"})}),(0,u.jsxs)("div",{className:"dark:text-flashbang-white font-text font-bold text-xl",children:[e.depositMin," ",e.depositMethod.asset]})]}),(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-5",children:[(0,u.jsx)("header",{className:"font-display lg:w-48",children:(0,u.jsx)("div",{className:"font-display flex items-center",children:"Expired at"})}),(0,u.jsx)("div",{className:"flex items-center gap-2 dark:text-flashbang-white",children:(0,u.jsx)("time",{dateTime:e.expiresAtISO,children:(0,ec.Z)(new Date(e.expiresAtISO),"yyyy.MM.dd HH:mm")})})]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-5",children:[(0,u.jsx)("header",{className:"font-display lg:w-48",children:(0,u.jsxs)("div",{className:"font-display flex items-center",children:["Rate",(0,u.jsx)(ew.u,{className:"ml-2",id:"order-rate-tooltip",place:"top",Icon:a?eT:eO,iconSize:"1.25rem"})]})}),(0,u.jsx)("div",{className:"flex flex-row items-start lg:items-center",children:(0,u.jsx)(ej.j,(0,c._)({approximate:a},l))})]}),(0,u.jsx)(eC,{})]}),(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-5",children:[(0,u.jsx)("header",{className:"font-display mt-5 flex items-center lg:mt-0 lg:w-48",children:"Receiving Address"}),(0,u.jsx)("span",{children:(0,u.jsx)(ew.u,{id:"receiving-address-tip",label:(0,p.K1)(null==e?void 0:e.settleAddress.address),place:"top",withIcon:!1,className:"w-min",labelClassName:"font-text cursor-pointer dark:text-flashbang-white normal-case","data-sentry-element":"Tooltip","data-sentry-source-file":"DepositInformation.tsx",children:(0,u.jsx)("span",{className:"font-text select-none break-words",children:null==e?void 0:e.settleAddress.address})})})]}),(null==e?void 0:e.settleAddress.memo)&&(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-5",children:[(0,u.jsx)("header",{className:"font-display mt-5 flex items-center lg:mt-0 lg:w-48",children:"Receiving Memo"}),(0,u.jsx)("span",{children:(0,u.jsxs)(ew.u,{id:"receiving-memo-tip",label:(0,p.K1)(e.settleAddress.memo),place:"top",withIcon:!1,className:"w-min",labelClassName:"font-text cursor-pointer dark:text-flashbang-white normal-case",children:[(0,u.jsx)("span",{className:"font-text select-none break-words",children:e.settleAddress.memo}),(0,u.jsx)("span",{className:"font-text text-xs text-gray-500 dark:text-gray-400 block mt-1",children:"This memo is for the receiving address only. Do NOT use for deposits."})]})})]})]}):null};var eD=s(54757),eR=s.n(eD),eE=s(97778),e_=s(5034);let eL=e=>{let{method:t}=e,{displayName:s,network:a}=t,l=(0,h.HN)(t),n=(0,e_.o)(t);return(0,u.jsxs)("div",{className:"absolute h-10 w-10 rounded-md","data-sentry-component":"CoinIcon","data-sentry-source-file":"QrCode.tsx",children:[(0,u.jsx)(eR(),{className:"bg-flashbang-white h-10 w-10 rounded-full p-1",width:40,height:40,src:l,alt:"".concat(s," logo"),"data-sentry-element":"Image","data-sentry-source-file":"QrCode.tsx"}),n&&(0,u.jsx)(eR(),{alt:"".concat(a,"-icon"),className:"bg-flashbang-white absolute right-[-2px] bottom-[-2px] block h-4 w-4 rounded-full p-[0.1rem]",width:16,height:16,src:n})]})},ez=e=>{let{value:t,method:s}=e;return(0,u.jsx)("div",{className:"bg-flashbang-white rounded-[1.5rem] p-5 inner-qr-code-hide","data-sentry-component":"QrCode","data-sentry-source-file":"QrCode.tsx",children:(0,u.jsxs)("div",{className:"xs:h-56 xs:w-56 relative grid h-52 w-52 grid-cols-1 grid-rows-1 place-items-center sm:h-64 sm:w-64 md:h-52 md:w-52 lg:h-52 lg:w-52",children:[(0,u.jsx)("div",{children:(0,u.jsx)(eE.Qd,{style:{width:"100%",height:"100%"},size:256,value:t,"data-sentry-element":"QRCodeCanvas","data-sentry-source-file":"QrCode.tsx"})}),s&&(0,u.jsx)(eL,{method:s})]})})};var eZ=s(37579),eW=s(15308),eU=s(54754),eB=s.n(eU),eQ=()=>(0,u.jsx)("span",{className:eB().loadingDots,"data-sentry-component":"LoadingDots","data-sentry-source-file":"LoadingDots.tsx"});let eH=(e,t,s,a)=>{let{methodId:l,networkId:n,shiftDirection:r}=a,d=n&&e?[l,...Object.values(e).filter(e=>e.network===n).map(e=>e.id)]:[l],i=d.includes(t)&&!!r&&["deposit","both"].includes(r),o=d.includes(s)&&!!r&&["settle","both"].includes(r);return i||o},eP=(e,t,s,a)=>e.filter(e=>eH(t,s,a,e)),eV=e=>{let{depositMethodId:t,settleMethodId:s}=e,{data:a}=(0,I.Z)(),{data:l}=(0,x.a)(q.qH,{onError:e=>{e instanceof eu.c&&(0,ex.CF)({type:"error",text:(0,h.Ii)(null==e?void 0:e.message)})}});return t&&s&&(null==l?void 0:l.announcements)&&l.announcements.length>0?eP((null==l?void 0:l.announcements)||[],(null==a?void 0:a.settleMethods)||{},t,s):null},eq=e=>{let{isOpen:t,onClose:s}=e,[a,l]=(0,j.useState)(!0),[n,r]=(0,j.useState)(5),{order:d}=(0,O.A)();return(0,j.useEffect)(()=>{let e=null;return a&&!(0,eW.Z)()&&(e=setInterval(()=>{r(t=>t<=1?(clearInterval(e),l(!1),0):t-1)},1e3)),()=>{e&&clearInterval(e)}},[a]),(0,u.jsx)(N.u,{title:"Warning!",isOpen:t,"data-sentry-element":"Modal","data-sentry-component":"MemoModal","data-sentry-source-file":"MemoModal.tsx",children:(0,u.jsxs)("div",{className:"pb-8",children:[(0,u.jsxs)(G.Z,{type:p.GO.NK.Danger,"data-sentry-element":"Alert","data-sentry-source-file":"MemoModal.tsx",children:["Include the ",(null==d?void 0:d.depositMethod.id)==="xrp"?"destination tag":"memo",", or your deposit will be lost!"]}),(0,u.jsx)("div",{className:"flex flex-col items-start justify-center",children:(0,u.jsxs)(f.z,{variant:"primary",role:"button",onClick:s,className:"w-full",disabled:a,"data-sentry-element":"Button","data-sentry-source-file":"MemoModal.tsx",children:["I Acknowledge ",a?"(".concat(n,")"):""]})})]})})};var eG=s(56714),eY=s(58318),eK=s(62420),e$=s(39989),eX=s(59533),eJ={src:"/_next/static/media/gas.415f6c91.svg",height:22,width:26,blurWidth:0,blurHeight:0},e0=s(70139),e1=s(40558);let e2=e=>{let{connectorBranding:t,connector:s,connectorName:a}=e,l=(null==t?void 0:t.text)==="Wallet";return(0,u.jsx)("div",{className:"w-10 ".concat((null==t?void 0:t.bgColor)?"h-7":"h-5"),"data-sentry-component":"WalletImage","data-sentry-source-file":"WalletTransactionInfo.tsx",children:(null==t?void 0:t.bgColor)?(0,u.jsx)("div",{style:{backgroundColor:t.bgColor},className:"flex h-7 w-7 items-center justify-center rounded-full",children:(0,u.jsx)("img",{height:16,width:16,src:null==t?void 0:t.icon,alt:(null==s?void 0:s.name)||a||"Wallet",className:(0,e1.m6)("h-4 w-auto",l&&"invert dark:invert-0")})}):(0,u.jsx)("img",{height:20,width:20,src:null==t?void 0:t.icon,alt:(null==s?void 0:s.name)||a||"Wallet",className:(0,e1.m6)("h-5 w-auto",l&&"invert dark:invert-0")})})},e5=e=>{let{connector:t,connectorName:s,balance:a,depositMethod:l,gasCost:n,gasCostSymbol:r,max:d,isFixedOrder:i,tooltipText:o,hasSufficientBalance:c,unsupportedNetwork:m}=e,x=(0,eK.h)(s||t);return(0,u.jsxs)(u.Fragment,{children:[!c&&!m&&(0,u.jsx)(G.Z,{className:"w-full -mt-2",type:p.GO.NK.Warning,children:i?"Your balance is below the deposit amount":"Your balance is below the minimum deposit"}),m&&(0,u.jsxs)(G.Z,{className:"w-full -mt-2",type:p.GO.NK.Warning,children:[null==t?void 0:t.name," doesn't support this network"]}),(0,u.jsxs)("div",{className:"mb-4 gap-x-10 gap-y-4 sm:grid sm:grid-cols-2",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(e2,{connector:t,connectorName:s||void 0,connectorBranding:x,"data-sentry-element":"WalletImage","data-sentry-source-file":"WalletTransactionInfo.tsx"}),(0,u.jsx)("span",{className:"dark:text-smoke whitespace-nowrap text-left text-lg uppercase",children:"Wallet Balance"})]}),(0,u.jsx)("span",{className:"dark:text-flashbang-white mb-4 block grow whitespace-nowrap pl-10 text-lg font-thin uppercase sm:mb-0 sm:pl-0",children:(0,e0.Ay)(a,null==l?void 0:l.asset,{roundDown:!0})}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"h-5 w-10",children:(0,u.jsx)(eR(),{width:26,height:22,src:eJ,alt:"Gas fees icon",className:"h-5 invert dark:invert-0","data-sentry-element":"Image","data-sentry-source-file":"WalletTransactionInfo.tsx"})}),(0,u.jsxs)("span",{className:"dark:text-smoke whitespace-nowrap text-left text-lg uppercase flex items-center align-center",children:["Estimated Gas Fees",o&&(0,u.jsx)(ew.u,{id:"gas-fees-tooltip",place:"top",className:"ml-2 items-center flex align-center",children:o})]})]}),(0,u.jsx)("span",{className:"dark:text-flashbang-white block grow whitespace-nowrap pl-10 text-lg font-thin uppercase sm:mb-0 sm:pl-0",children:(0,e0.Ay)(n,r)})]}),!i&&(0,u.jsxs)("div",{className:"mb-8 gap-x-10 sm:grid sm:grid-cols-2",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"h-5 w-10",children:(0,u.jsx)(eX.default,{className:"dark:text-smoke text-new-black h-5"})}),(0,u.jsx)("span",{className:"dark:text-smoke whitespace-nowrap text-left text-lg uppercase",children:"You can send max:"})]}),(0,u.jsx)("span",{className:"dark:text-flashbang-white mb-4 grow whitespace-nowrap pl-10 text-lg font-thin uppercase sm:mb-0 sm:pl-0",children:d?(0,e0.Ay)(d,null==l?void 0:l.asset,{roundDown:!0}):"- ".concat(null==l?void 0:l.asset)})]})]})},e4=e=>{let{isFixedOrder:t,estimatedSettleAmount:s,estimatedSettleAmountDecimals:a,settleAsset:l}=e;return(0,u.jsxs)("div",{className:"my-4 gap-x-10 sm:grid sm:grid-cols-2","data-sentry-component":"EstimatedSettlementInfo","data-sentry-source-file":"WalletTransactionInfo.tsx",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"h-5 w-10",children:(0,u.jsx)(e$.Z,{className:"dark:text-smoke text-new-black h-5 rotate-45","data-sentry-element":"ArrowRight","data-sentry-source-file":"WalletTransactionInfo.tsx"})}),(0,u.jsx)("span",{className:"dark:text-smoke whitespace-nowrap text-left text-lg uppercase",children:t?"You will receive:":"You receive approx:"})]}),(0,u.jsxs)("span",{className:"dark:text-flashbang-white mb-4 grow whitespace-nowrap pl-10 text-lg font-thin uppercase sm:mb-0 sm:pl-0",children:[s?(0,p.x6)((0,p.kJ)(Math.abs(parseFloat(s)),a)):"-"," ",l]})]})};var e3=s(54193),e6=s(82643),e8=s(3877),e7=s(94965),e9=s(47331),te=s(32474),tt=s(8145),ts=s(17239),ta=s(10439),tl=s(13430),tn=s(78825),tr=s(31545);let td=()=>{let[e,t]=(0,j.useState)(!1),{order:s}=(0,O.A)(),{balance:a}=(0,ta.Z)(null==s?void 0:s.depositMethod),{spendableBalance:l}=(0,e8.WP)(null==s?void 0:s.depositMethod),{data:n}=(0,tr.G)({chainId:(null==s?void 0:s.depositMethod)?(0,tl.nQ)(null==s?void 0:s.depositMethod):1,formatUnits:"wei"}),r=p.ns.times((0,tn.d)((null==n?void 0:n.maxFeePerGas)||BigInt(0)),e8.r$).toString(),d=(null==s?void 0:s.depositMin)&&s.type===p.mr.fixed?s.depositMin:"";return{isOpen:e,openModal:()=>t(!0),closeModal:()=>t(!1),max:(l&&(null==s?void 0:s.depositMax)?p.ns.min(null==s?void 0:s.depositMax,l):null==s?void 0:s.depositMax)||void 0,balance:a,maxGasCost:r,value:d}},ti=e=>{var t,s,a;let{order:l}=(0,O.A)(),{data:n}=eI(null==l?void 0:null===(t=l.depositMethod)||void 0===t?void 0:t.id,null==l?void 0:null===(s=l.settleMethod)||void 0===s?void 0:s.id),{totalFeesUsd:r}=(null==n?void 0:n.estimateShiftNetworkFees)||{},{data:d}=(0,x.a)(q.gZ,{variables:{base:"USD",quote:null==l?void 0:null===(a=l.settleMethod)||void 0===a?void 0:a.asset},pollInterval:3e4}),i=(null==d?void 0:d.price)&&r?p.ns.times(null==d?void 0:d.price,r):null,{rateProps:o}=(0,eM.U)({depositMethod:(null==l?void 0:l.depositMethod)||null,settleMethod:(null==l?void 0:l.settleMethod)||null}),c="rate"in o?o.rate:void 0;return c&&parseFloat(e)>0&&i?(0,e0.xD)(p.ns.minus(p.ns.times(c,e),i),8):null},to="amount",tc=e=>{var t,s;let{isOpen:a,closeModal:l,depositMethod:n,value:r=""}=e,d=(0,eY.cI)({reValidateMode:"onChange",defaultValues:{[to]:r}}),{order:i,setTxConfirmedInWallet:o}=(0,O.A)(),{handleSubmit:c,formState:{isValid:m},watch:x}=d,{connector:v}=(0,ts.m)(),{isSolanaWalletAvailable:g,sendSolana:y,setIsSendingSolana:w,isSendingSolana:b,connectorName:k}=(0,e6.X)(),{spendableBalance:M}=(0,e8.WP)(null==i?void 0:i.depositMethod),{formatUsdToSelectedFiat:S}=(0,eA.n)(),I=(0,e3.t)(),{logEvent:C}=(0,A.z)(),T=x("amount"),F=(0,e7.u)({assetId:null==i?void 0:null===(t=i.depositMethod)||void 0===t?void 0:t.asset,amount:T}),D=(null==i?void 0:i.type)===p.mr.fixed,R=ti(T),E=R&&0!==(0,e0.TY)(parseFloat(R))?(0,e0.TY)(parseFloat(R))+2:4,_=(M&&(null==i?void 0:i.depositMax)?p.ns.min(null==i?void 0:i.depositMax,M):null==i?void 0:i.depositMax)||void 0,L=(0,tt.qN)(M||0,(null==i?void 0:i.depositMin)||0),z=parseFloat(T)>0&&p.ns.gt(T,_||0),Z=(0,j.useMemo)(()=>!m||!L||z,[m,L,z]),W=async e=>{var t,s,a,n;let{amount:r}=e;if(!(null==i?void 0:null===(t=i.depositAddress)||void 0===t?void 0:t.address))return;(0,ex.CF)({text:"Please confirm the transaction in your wallet.",type:"info"});let d=await y(null==i?void 0:null===(s=i.depositAddress)||void 0===s?void 0:s.address,r,null==i?void 0:i.depositMethod.decimals,(null==i?void 0:null===(a=i.depositMethod)||void 0===a?void 0:a.tokenAddress)?null==i?void 0:null===(n=i.depositMethod)||void 0===n?void 0:n.tokenAddress:void 0);if(d&&("string"==typeof d||"signature"in d)){let e="string"==typeof d?d:d.signature;(0,ex.CF)({text:"Successfully sent transaction",type:"success",link:{href:(0,p.Qd)("solana",e),text:"View Transaction"}}),l(),C("".concat(D?"Fixed":"Variable"," Order - Solana transaction send from ").concat(null==v?void 0:v.name)),null==o||o(!0)}},U=(0,j.useCallback)(e=>null==i||!i.depositMax||(0,tt.h$)(e,null==i?void 0:i.depositMax),[null==i?void 0:i.depositMax]),B=(0,j.useCallback)(e=>null==i||!i.depositMin||(0,tt.qN)(e,null==i?void 0:i.depositMin),[null==i?void 0:i.depositMin]),Q=(0,j.useMemo)(()=>!L||z?"Insufficient funds":"Send from wallet",[L,z]);return i&&(null==i?void 0:null===(s=i.depositMethod)||void 0===s?void 0:s.network)==="solana"&&(g||(0,eW.Z)())?(0,u.jsxs)(N.u,{isOpen:a,title:"Deposit from wallet",handleClose:()=>{l(),w(!1)},"data-sentry-element":"Modal","data-sentry-component":"SendFromSolanaModal","data-sentry-source-file":"SendFromSolanaModal.tsx",children:[(0,u.jsx)(e5,{connector:v,connectorName:(0,eW.Z)()||e9.z3?"Phantom":k,balance:M||"0",depositMethod:n,gasCost:"0.000005",gasCostSymbol:"SOL",max:_,isFixedOrder:D,tooltipText:"The value of the fees in this solana transaction could be different due to the priority fee charged by the wallet used.",hasSufficientBalance:L,"data-sentry-element":"WalletTransactionInfo","data-sentry-source-file":"SendFromSolanaModal.tsx"}),(0,u.jsxs)("form",{onSubmit:c(W),children:[(0,u.jsx)(eG.a,{formMethods:d,id:to,max:_,min:(null==i?void 0:i.depositMin)?i.depositMin:void 0,label:D?"You will send":"Select amount",selected:{logoURI:(0,h.HN)(n),name:n.displayName,network:(0,te.n)(n),symbol:n.asset},disabled:!!r,validation:{required:!0,validate:{lessThanMax:U,validateGreaterThanZero:tt.Ty,greaterThanMin:B,walletConnected:()=>g}},isConnected:g,fiatValue:S(F),"data-sentry-element":"ShiftInput","data-sentry-source-file":"SendFromSolanaModal.tsx"}),(0,u.jsx)(e4,{isFixedOrder:D,estimatedSettleAmount:R,estimatedSettleAmountDecimals:E,settleAsset:i.settleMethod.asset,"data-sentry-element":"EstimatedSettlementInfo","data-sentry-source-file":"SendFromSolanaModal.tsx"}),(0,u.jsx)(f.z,{className:"my-8 w-full",disabled:Z,isLoading:b,role:"button",variant:"primary",buttonSize:"normal",type:"submit","data-sentry-element":"Button","data-sentry-source-file":"SendFromSolanaModal.tsx",children:I?Q:"Send From Wallet"})]})]}):null},tm=()=>{let[e,t]=(0,j.useState)(!1);return{isOpen:e,openModal:()=>{t(!0)},closeModal:()=>t(!1)}};var tu=s(47118),tx=s(93548),tp=s(58349);let th=(e,t,s)=>{let{logEvent:a}=(0,A.z)(),l=e=>{a("Transaction modal success event"),s(e)},n=e=>{a("Transaction modal error event"),t(e)},{data:r,sendTransaction:d,isPending:i}=(0,tx.p)(),{isLoading:o}=(0,tp.A)({hash:r});return{sendEther:(s,a)=>{d({chainId:e,value:(0,tu.f)(s),to:a},{onError:e=>{!r&&e.message.includes("Cannot read properties of undefined (reading 'symbol')")?t({message:"User rejected the request.",name:"TypeError"}):n(e)},onSuccess:l})},loading:o,isLoadingSendEther:i}};var tf=s(35389),tv=s(69844),tg=s(21824);let ty=(e,t,s,a,l)=>{let{logEvent:n}=(0,A.z)(),r=e=>{n("Transaction modal success event"),a(e)},d=e=>{n("Transaction modal error event"),s(e)},{data:i,writeContract:o,isPending:c}=(0,tg.S)({config:tf.v}),{isLoading:m}=(0,tp.A)({hash:i});return{sendTokens:(s,a)=>null==o?void 0:o({chainId:e,address:l,abi:h.RB,functionName:"transfer",__mode:void 0,args:[a,(0,tv.v)(s,t)]},{onError:d,onSuccess:r}),loading:m,isPendingSendToken:c}},tj=["Chain mismatch","missing argument"],tw=(e,t,s)=>{let{isConnected:a,chain:l}=(0,ts.m)(),n=e=>{t(e)},r=e=>{tj.some(t=>e.message.toLowerCase().includes(t.toLowerCase()))||s(e)},{sendTokens:d,loading:i,isPendingSendToken:o}=ty((0,tl.nQ)(e),e.decimals,r,n,e.tokenAddress),{sendEther:c,loading:m,isLoadingSendEther:u}=th((0,tl.nQ)(e),r,n);return{sendTransaction:async e=>{let{amount:t,address:n,depositMethod:r}=e;if(!(!a||(0,tl.m7)(r,null==l?void 0:l.id)))try{if((0,p.eR)(r.network)&&r.tokenAddress){d(t,n);return}c(t,n)}catch(e){e instanceof Error&&s(e)}},isSending:i||m,isTxLoading:o||u}};var tb=s(97001),tN=s(39492),tk=s(57018);let tM="amount",tS=e=>{var t;let{isOpen:s,closeModal:a,max:l,depositMethod:n,settleMethod:r,balance:d,maxGasCost:i,value:o=""}=e,{formatUsdToSelectedFiat:c}=(0,eA.n)(),m=(0,eY.cI)({reValidateMode:"onChange",defaultValues:{[tM]:o}}),{isConnected:x,chain:v,connector:g}=(0,ts.m)(),{order:y,setTxConfirmedInWallet:w}=(0,O.A)(),{handleSubmit:b,formState:{isValid:k},watch:M}=m,S=M("amount"),I=(0,e7.u)({assetId:null==y?void 0:null===(t=y.depositMethod)||void 0===t?void 0:t.asset,amount:S}),C=(0,tl.nQ)(n)||1,{chains:T}=(0,tN.Z)(),{logEvent:F}=(0,A.z)(),D=T.find(e=>e.id===C),R=ti(S),E=(0,tt.qN)(d||0,(null==y?void 0:y.depositMin)||0),_=(null==y?void 0:y.type)===p.mr.fixed,L=parseFloat(S)>0&&p.ns.gt(S,l||0),z=x&&y&&(0,tl.m7)(n,null==v?void 0:v.id),Z=(0,tl.sl)(null==g?void 0:g.name,null==y?void 0:y.depositMethod.network),W=(0,e3.t)(),U=R&&0!==(0,e0.TY)(parseFloat(R))?(0,e0.TY)(parseFloat(R))+2:4,{switchChain:B}=(0,tk.o)(),{sendTransaction:Q,isSending:H,isTxLoading:P}=tw(n,e=>{var t,s;(0,ex.CF)({text:"Successfully sent transaction",type:"success",link:{href:null!==(s=(0,p.Qd)(null!==(t=n.network)&&void 0!==t?t:"ethereum",e))&&void 0!==s?s:"",text:"View Transaction"}}),null==w||w(!0),F("".concat(_?"Fixed":"Variable"," Order - EVM transaction send from ").concat(null==g?void 0:g.name)),a()},e=>{(0,ex.CF)({text:(0,h.Ii)((0,tb.y)(e)),type:"error"})}),V=(0,j.useMemo)(()=>!k||!E||L||Z,[k,E,L,Z]),q=(0,j.useMemo)(()=>Z?"Unsupported network":!E||L?"Insufficient funds":z?"Switch network":"Send from wallet",[z,E,L,Z]),G=(0,j.useCallback)(e=>!l||(0,tt.h$)(e,l),[l]),Y=(0,j.useCallback)(e=>null==y||!y.depositMin||(0,tt.qN)(e,null==y?void 0:y.depositMin),[null==y?void 0:y.depositMin]);if(!y||!(0,e9._1)(y.depositMethod))return null;let K=async e=>{var t,s;let{amount:a}=e;z&&B?B({chainId:null===(s=h.Ay[n.network])||void 0===s?void 0:s.id}):(0,ex.CF)({text:"Please confirm the transaction in your wallet.",type:"info"}),await Q({amount:a,address:null===(t=y.depositAddress)||void 0===t?void 0:t.address,depositMethod:n})};return(0,u.jsxs)(N.u,{isOpen:s,title:"Deposit from wallet",handleClose:a,"data-sentry-element":"Modal","data-sentry-component":"SendFromWalletModal","data-sentry-source-file":"SendFromWalletModal.tsx",children:[(0,u.jsx)(e5,{connector:g,balance:d||"0",depositMethod:n,gasCost:i||"0",gasCostSymbol:(null==D?void 0:D.nativeCurrency.symbol)||"ETH",max:l,isFixedOrder:_,hasSufficientBalance:E,unsupportedNetwork:Z,"data-sentry-element":"WalletTransactionInfo","data-sentry-source-file":"SendFromWalletModal.tsx"}),(0,u.jsxs)("form",{onSubmit:b(K),children:[(0,u.jsx)(eG.a,{formMethods:m,id:tM,max:l,min:y.depositMin?y.depositMin:void 0,label:_?"You will send":"Select amount",selected:{logoURI:(0,h.HN)(n),network:(0,te.n)(n),name:n.displayName,symbol:n.asset},disabled:!E||!!o,validation:{required:!0,validate:{lessThanMax:G,validateGreaterThanZero:tt.Ty,greaterThanMin:Y}},isConnected:x,fiatValue:c(I),"data-sentry-element":"ShiftInput","data-sentry-source-file":"SendFromWalletModal.tsx"}),(0,u.jsx)(e4,{isFixedOrder:_,estimatedSettleAmount:R,estimatedSettleAmountDecimals:U,settleAsset:r.asset,"data-sentry-element":"EstimatedSettlementInfo","data-sentry-source-file":"SendFromWalletModal.tsx"}),(0,u.jsx)(f.z,{className:"my-8 w-full",disabled:V,isLoading:H||P,role:"button",variant:"primary",buttonSize:"normal",type:"submit","data-sentry-element":"Button","data-sentry-source-file":"SendFromWalletModal.tsx",children:W?q:"Send From Wallet"})]})]})};var tA=s(16149),tI=s(32117);let tC=e=>{let{depositAddress:t}=e,s=t.address.match(/.{1,4}/g)||[];return(0,u.jsx)("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 gap-y-[1rem] gap-x-[3rem] dark:text-flashbang-white text-new-black pb-8","data-sentry-component":"AddressGrid","data-sentry-source-file":"SplitAddressModal.tsx",children:s.map((e,t)=>(0,u.jsx)("div",{className:"grid grid-cols-4 gap-x-1",children:e.split("").map((e,s)=>{let a=1+4*t+s;return(0,u.jsxs)("div",{className:"flex flex-col items-center bg-smoke dark:bg-dark-gray ".concat(a%2==0?"bg-opacity-30 dark:bg-opacity-30":"bg-opacity-10 dark:bg-opacity-10"," rounded-md"),children:[(0,u.jsx)("span",{className:"text-[3rem]",children:e}),(0,u.jsx)("span",{className:"mb-3 text-xs dark:text-smoke",children:a})," "]},a)})},"block-".concat(e)))})},tO=e=>{let{isOpen:t,onClose:s}=e,{order:a}=(0,O.A)(),l=" ".concat(null==a?void 0:a.depositMethod.asset," on ").concat(null==a?void 0:a.depositMethod.network," ").concat((null==a?void 0:a.depositMethod.label)?"(".concat(null==a?void 0:a.depositMethod.label,")"):""," deposit address").trim(),n=null==a?void 0:a.depositAddress;return(0,u.jsx)(N.u,{title:l,isOpen:t,handleClose:s,variant:"wide","data-sentry-element":"Modal","data-sentry-component":"SplitAddressModal","data-sentry-source-file":"SplitAddressModal.tsx",children:n&&(0,u.jsx)(tC,{depositAddress:n})})},tT=e=>{let{isAddress:t=!1,text:s,buttonClassName:a=""}=e,{order:l}=(0,O.A)(),[n,r]=(0,j.useState)(!1),d=(null==l?void 0:l.depositMethod.id)==="xrp"?"destination tag":"memo";return(0,u.jsxs)("div",{className:"relative mb-4 flex items-center gap-1","data-sentry-component":"AddressOrMemoDisplay","data-sentry-source-file":"AddressOrMemoDisplay.tsx",children:[(0,u.jsx)("span",{className:"dark:text-flashbang-white text-new-black inline-block select-all break-words break-all text-xl font-bold",children:s}),(0,u.jsxs)("button",{type:"button",onClick:()=>(0,h.vQ)(s,t?"address":d),className:"dark:focus:shadow-outline-white focus:shadow-outline-new-black ".concat(a," flex items-center"),children:[(0,u.jsx)("span",{className:"sr-only",children:"Copy"}),(0,u.jsx)(tA.Z,{className:"dark:text-flashbang-white w-6 text-black","data-sentry-element":"CopyIcon","data-sentry-source-file":"AddressOrMemoDisplay.tsx"})]}),t&&(0,u.jsxs)("button",{type:"button",onClick:()=>r(!0),className:"dark:text-flashbang-white text-new-black flex items-center",children:[(0,u.jsx)("span",{className:"sr-only",children:"Open Modal"}),(0,u.jsx)(tI.Z,{className:"w-6 h-8"})]}),n&&(0,u.jsx)(tO,{isOpen:n,onClose:()=>r(!1)})]})},tF=(e,t)=>(0,eW.Z)()||e9.z3?"bg-warning-yellow":e||t?"bg-punk-red":"bg-warning-yellow",tD=()=>{let{order:e}=(0,O.A)();return e?(0,u.jsx)(ep.ZP,{date:e.expiresAtISO,renderer:e=>{let{minutes:t,seconds:s}=e,a=t+s<=0,l=a?"EXPIRED":"".concat((0,ep.Bu)(t),":").concat((0,ep.Bu)(s));return(0,u.jsx)("time",{"aria-label":"Time remaining",className:"".concat(tF(a,t<5)," text-new-black font-display rounded-md px-2 py-1 text-xs"),"aria-live":"polite",suppressHydrationWarning:!0,"data-sentry-component":"countdownRenderer","data-sentry-source-file":"FixedOrderCountdown.tsx",children:(0,eW.Z)()||e9.z3?"".concat((0,ep.Bu)(6),":").concat((0,ep.Bu)(59)):l})},"data-sentry-element":"Countdown","data-sentry-component":"FixedOrderCountdown","data-sentry-source-file":"FixedOrderCountdown.tsx"}):null},tR=()=>{let{order:e}=(0,O.A)();return e?(0,u.jsxs)("div",{className:"dark:text-smoke mb-8 flex flex-wrap items-center gap-y-2 gap-x-12 uppercase","data-sentry-component":"FixedDepositAmount","data-sentry-source-file":"FixedDepositAmount.tsx",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("span",{className:"font-display mr-2 whitespace-nowrap",children:"Send Exactly"}),(0,u.jsx)(ew.u,{id:"fixed-order-amount",place:"top","data-sentry-element":"Tooltip","data-sentry-source-file":"FixedDepositAmount.tsx",children:(0,u.jsx)("p",{className:"text-flashbang-white my-0 normal-case",children:"Send exactly ".concat(e.depositMin," ").concat(e.depositMethod.asset,". If you send a different amount, your ").concat(e.depositMethod.asset," might be REFUNDED.")})})]}),(0,u.jsxs)("span",{className:"font-text dark:text-flashbang-white text-new-black flex items-center text-xl font-bold",children:[(0,u.jsx)("span",{className:"select-all",children:e.depositMin}),"\xa0",e.depositMethod.asset,(0,u.jsx)("button",{onClick:()=>(0,h.vQ)((null==e?void 0:e.depositMin)||"","Deposit Amount"),className:"ml-3 p-1 flex items-center",children:(0,u.jsx)(tA.Z,{className:"dark:text-flashbang-white text-new-black h-5 w-5","data-sentry-element":"CopyIcon","data-sentry-source-file":"FixedDepositAmount.tsx"})}),(0,u.jsx)("span",{className:"flex items-center ml-4 mb-2 md:mb-0",children:(0,u.jsx)(tD,{"data-sentry-element":"FixedOrderCountdown","data-sentry-source-file":"FixedDepositAmount.tsx"})})]})]}):null};var tE=s(97808),t_=s(66729);let tL=e=>{let{openModal:t,buttonSize:s,showIcon:a}=e,{txConfirmedInWallet:l}=(0,O.A)(),{isConnected:n}=(0,ts.m)(),{setModalIsOpen:r,setTransactionState:d,TransactionStates:i}=(0,t_.d)(),[o,c]=(0,j.useState)(!1);return(0,j.useEffect)(()=>{n&&o&&(t(),c(!1))},[n,o]),(0,u.jsx)(f.z,{className:"w-full min-w-[8rem]",variant:"secondary",icon:a?{src:tE.Z,alt:"Wallet icon"}:void 0,role:"button",onClick:()=>{if(!n){r(!0),d(i.PENDING_WALLET_CONNECTION),c(!0);return}t()},isLoading:l,disabled:l,buttonSize:s,"data-sentry-element":"Button","data-sentry-component":"SendFromWalletButton","data-sentry-source-file":"SendFromWalletButton.tsx",children:"Send From Wallet"})},tz=e=>{let{openModal:t,buttonSize:s,showIcon:a}=e,{txConfirmedInWallet:l}=(0,O.A)(),{setModalIsOpen:n,setTransactionState:r,TransactionStates:d}=(0,t_.d)(),[i,o]=(0,j.useState)(!1),{publicKey:c}=(0,e6.X)();return(0,j.useEffect)(()=>{c&&i&&(t(),o(!1))},[]),(0,u.jsx)(f.z,{className:"w-full min-w-[8rem]",variant:"secondary",icon:a?{src:tE.Z,alt:"Wallet icon"}:void 0,role:"button",onClick:()=>{if(!c){n(!0),r(d.PENDING_WALLET_CONNECTION),o(!0);return}t()},isLoading:l,disabled:l,buttonSize:s,"data-sentry-element":"Button","data-sentry-component":"SendSolanaButton","data-sentry-source-file":"SendSolanaButton.tsx",children:"Send From Wallet"})},tZ=()=>{let{order:e}=(0,O.A)(),{type:t}=e||{},s=t===p.mr.fixed,a=t===p.mr.variable;return e?(0,u.jsxs)("section",{className:"dark:text-smoke grid gap-5 uppercase md:grid-cols-2","data-sentry-component":"WidgetDepositInformation","data-sentry-source-file":"WidgetDepositInformation.tsx",children:[s&&(0,u.jsxs)("span",{className:"flex items-center pb-2",children:[(0,u.jsx)("span",{className:"dark:text-flashbang-white font-display mr-4",children:"Time remaining:"}),(0,u.jsx)(tD,{})]}),a&&(0,u.jsx)(eC,{})]}):null},tW=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"bg-flashbang-white dark:bg-new-black fixed bottom-0 left-0 z-20 w-full py-4 shadow-lg md:hidden","data-sentry-component":"MobileActionsFooter","data-sentry-source-file":"SendDeposit.tsx",children:(0,u.jsx)("div",{className:"mx-2 flex gap-2 sm:flex-row",children:t})})},tU=()=>{var e,t;let{order:s}=(0,O.A)(),[a,l]=(0,j.useState)(!!(null==s?void 0:null===(e=s.depositAddress)||void 0===e?void 0:e.memo)),n=(0,L.Z)(),r=tm(),{openModal:d}=r,i=(0,eZ._)(r,["openModal"]),o=td(),{openModal:x}=o,v=(0,eZ._)(o,["openModal"]),g=eV({depositMethodId:null==s?void 0:s.depositMethod.id,settleMethodId:null==s?void 0:s.settleMethod.id});if(!(null==s?void 0:s.depositAddress))return null;let y=(null==s?void 0:s.type)===p.mr.variable,w=(null==s?void 0:s.type)===p.mr.fixed,b=(0,e9._1)(s.depositMethod)&&!n,N="solana"===s.depositMethod.network&&!n,k=s.depositMethod.hasMemo&&s.depositAddress.memo,M=k&&!(0,eW.Z)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h1",{className:"mt-0 text-left text-3xl lg:text-4xl lg:leading-none",children:["Waiting for you to send"," ",(0,u.jsxs)("span",{className:"font-display inline-block",children:[null==s?void 0:s.depositMethod.asset," ",(0,u.jsx)(eQ,{"data-sentry-element":"LoadingDots","data-sentry-source-file":"SendDeposit.tsx"})]})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-4 pb-8 md:flex-row md:items-start md:gap-0",children:[(0,u.jsx)("div",{className:"md:order-0 order-1 flex justify-center md:mr-8 md:ml-0",children:(0,u.jsx)(ez,{value:(null==s?void 0:null===(t=s.depositAddress)||void 0===t?void 0:t.address)||"",method:s.depositMethod,"data-sentry-element":"QrCode","data-sentry-source-file":"SendDeposit.tsx"})}),(0,u.jsxs)("div",{className:"order-0 grow md:order-1 md:max-w-[36rem]",children:[w&&(0,u.jsx)(tR,{}),y&&(0,u.jsx)(tV,{}),k&&s.depositAddress.memo&&(0,u.jsxs)("div",{className:"mb-8",children:[(0,u.jsxs)(G.Z,{type:p.GO.NK.Warning,children:["Include the ","xrp"===s.depositMethod.id?"destination tag":"memo",", or your deposit will be lost!"]}),(0,u.jsxs)("div",{className:"flex gap-4",children:[(0,u.jsxs)("span",{id:"memo-label",className:"font-display dark:text-smoke mb-2 block uppercase",children:["With the ","xrp"===s.depositMethod.id?"destination tag":"memo"]}),(0,u.jsx)("span",{className:"font-display bg-punk-red text-new-black relative bottom-[0.125rem] mb-1 h-6 rounded-md px-2 text-xs leading-6",role:"alert","aria-label":"xrp"===s.depositMethod.id?"Destination tag is required":"Memo is required",children:"Required"})]}),(0,u.jsx)(tT,{buttonClassName:"md:hidden",text:s.depositAddress.memo}),(0,u.jsxs)(f.z,{className:"mb-6 w-full",variant:"primary",buttonSize:"small",role:"button",onClick:()=>{var e;return(0,h.vQ)((null==s?void 0:null===(e=s.depositAddress)||void 0===e?void 0:e.memo)||"","xrp"===s.depositMethod.id?"destination tag":"memo")},children:["Copy ","xrp"===s.depositMethod.id?"Destination tag":"Memo"]})]}),null==g?void 0:g.map(e=>{let{message:t}=e;return(0,u.jsx)(G.Z,{type:p.GO.NK.Warning,children:t})}),(0,u.jsxs)("span",{id:"send-to-label",className:"font-display dark:text-smoke mb-2 block uppercase",children:["To the ",(0,e0.eS)(s.depositMethod)," address"]}),(0,u.jsx)(tT,{buttonClassName:"md:hidden",text:s.depositAddress.address,isAddress:!0,"data-sentry-element":"AddressOrMemoDisplay","data-sentry-source-file":"SendDeposit.tsx"}),(0,u.jsxs)("div",{className:"mb-8 hidden gap-4 md:grid ".concat((b||N)&&"lg:grid-cols-2"),children:[(0,u.jsx)(f.z,{variant:"primary",buttonSize:"small",role:"button",onClick:()=>{var e;return(0,h.vQ)((null==s?void 0:null===(e=s.depositAddress)||void 0===e?void 0:e.address)||"","address")},"data-sentry-element":"Button","data-sentry-source-file":"SendDeposit.tsx",children:"Copy Address"}),b&&(0,u.jsx)("div",{className:"flex-1",children:(0,u.jsx)(tL,{buttonSize:"small",openModal:x})}),N&&(0,u.jsx)("div",{className:"flex-1",children:(0,u.jsx)(tz,{buttonSize:"small",openModal:d})})]}),(0,u.jsx)("div",{className:"mt-10 hidden md:block",children:n?(0,u.jsx)(tZ,{}):(0,u.jsx)(eF,{})})]})]}),(0,u.jsx)("div",{className:"md:hidden",children:n?(0,u.jsx)(tZ,{}):(0,u.jsx)(eF,{})}),(0,u.jsxs)(tW,{"data-sentry-element":"MobileActionsFooter","data-sentry-source-file":"SendDeposit.tsx",children:[(0,u.jsx)(f.z,{className:"w-full min-w-[8rem]",role:"button",variant:"primary",onClick:()=>{var e;return(0,h.vQ)((null==s?void 0:null===(e=s.depositAddress)||void 0===e?void 0:e.address)||"","address")},buttonSize:"small","data-sentry-element":"Button","data-sentry-source-file":"SendDeposit.tsx",children:"Copy Address"}),b&&(0,u.jsx)(tL,{buttonSize:"small",openModal:x,showIcon:!1}),N&&(0,u.jsx)(tz,{buttonSize:"small",openModal:d})]}),(0,u.jsx)(tS,(0,m._)((0,c._)({depositMethod:s.depositMethod,settleMethod:s.settleMethod},v),{"data-sentry-element":"SendFromWalletModal","data-sentry-source-file":"SendDeposit.tsx"})),(0,u.jsx)(tc,(0,m._)((0,c._)({depositMethod:s.depositMethod},i),{value:w&&s.depositMin||void 0,"data-sentry-element":"SendFromSolanaModal","data-sentry-source-file":"SendDeposit.tsx"})),M&&(0,u.jsx)(eq,{isOpen:a,onClose:()=>l(!1)})]})};var tB=s(56331);let tQ=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"bg-flashbang-white dark:bg-new-black fixed bottom-0 left-0 z-20 w-full py-4 shadow-lg md:hidden","data-sentry-component":"MobileActionsFooter","data-sentry-source-file":"SendDepositLedger.tsx",children:(0,u.jsx)("div",{className:"mx-2 flex gap-2 sm:flex-row",children:t})})},tH=()=>{let{order:e}=(0,O.A)(),{executeSwap:t,hasSentFromLedger:s}=(0,eh.$N)(),a=async()=>{if(!(null==e?void 0:e.depositAddress)||!e.settleAmount||!e.depositMin)return;let{error:s,txHash:a}=await t(e.depositMin,e.settleAmount,null==e?void 0:e.depositAddress);if(s){let e=(0,tB.AJ)(s.message);e&&(0,ex.CF)({text:e,type:"error",toastId:e})}else{var l,n;(0,ex.CF)({toastId:"sucessful-tx",text:"Successfully sent transaction",type:"success",link:a?{href:null!==(n=(0,p.Qd)(null!==(l=e.depositMethod.network)&&void 0!==l?l:"ethereum",a))&&void 0!==n?n:"",text:"View Transaction"}:void 0})}};if((0,j.useEffect)(()=>{a()},[]),!(null==e?void 0:e.depositAddress))return null;let l=(0,u.jsx)(f.z,{className:"w-full min-w-[8rem]",variant:"primary",role:"button",onClick:a,isLoading:s,children:"Send from Ledger"});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h1",{className:"mt-0 text-left text-3xl lg:text-4xl lg:leading-none",children:["Waiting for you to send"," ",(0,u.jsxs)("span",{className:"font-display inline-block",children:[null==e?void 0:e.depositMethod.asset," ",(0,u.jsx)(eQ,{"data-sentry-element":"LoadingDots","data-sentry-source-file":"SendDepositLedger.tsx"})]})]}),(0,u.jsx)("div",{className:"flex flex-col gap-4 pb-8 md:flex-row md:items-start md:gap-0",children:(0,u.jsxs)("div",{className:"order-0 grow md:order-1 md:max-w-[36rem]",children:[(0,u.jsx)(tR,{"data-sentry-element":"FixedDepositAmount","data-sentry-source-file":"SendDepositLedger.tsx"}),e.depositMethod.hasMemo&&e.depositAddress.memo&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex gap-4",children:[(0,u.jsx)("span",{id:"memo-label",className:"font-display dark:text-smoke mb-2 block uppercase",children:"With the memo"}),(0,u.jsx)("span",{className:"font-display bg-punk-red text-new-black relative bottom-[0.125rem] mb-1 h-6 rounded-md px-2 text-xs leading-6",role:"alert","aria-label":"Memo is required",children:"Required"})]}),(0,u.jsx)(tT,{buttonClassName:"md:hidden",text:e.depositAddress.memo})]}),(0,u.jsxs)("span",{id:"send-to-label",className:"font-display dark:text-smoke mb-2 block uppercase",children:["To the ",(0,e0.eS)(e.depositMethod)," address"]}),(0,u.jsx)(tT,{buttonClassName:"md:hidden",text:e.depositAddress.address,isAddress:!0,"data-sentry-element":"AddressOrMemoDisplay","data-sentry-source-file":"SendDepositLedger.tsx"}),(0,u.jsx)("div",{className:"mb-4 hidden gap-4 md:grid lg:grid-cols-2",children:(0,u.jsx)("div",{className:"flex-1",children:l})}),(0,u.jsx)("div",{className:"mt-8 hidden md:block",children:(0,u.jsx)(eF,{"data-sentry-element":"DepositInformation","data-sentry-source-file":"SendDepositLedger.tsx"})})]})}),(0,u.jsx)("div",{className:"md:hidden",children:(0,u.jsx)(eF,{"data-sentry-element":"DepositInformation","data-sentry-source-file":"SendDepositLedger.tsx"})}),(0,u.jsx)(tQ,{"data-sentry-element":"MobileActionsFooter","data-sentry-source-file":"SendDepositLedger.tsx",children:l})]})};var tP=s(439);let tV=()=>{let{order:e}=(0,O.A)();if(!e)return null;let[t,s]=function(e){var t,s;let a;if(!e.depositMin||!e.depositMax)return["",""];let l=tP.IT.includes(e.depositMethod.asset),n=e.depositMin.includes("."),r=e.depositMax.includes(".");if(!n&&!r)return[e.depositMin,e.depositMax];let d=(null===(t=e.depositMin.split(".")[1])||void 0===t?void 0:t.length)||0,i=(null===(s=e.depositMax.split(".")[1])||void 0===s?void 0:s.length)||0,o=n&&r?Math.min(d,i):Math.max(d,i);return l?(a=r?(Math.floor(100*parseFloat(e.depositMax))/100).toFixed(2).replace(/\.?0+$/,""):e.depositMax,[n?(Math.floor(100*parseFloat(e.depositMin))/100).toFixed(2).replace(/\.?0+$/,""):e.depositMin,a]):(a=r?parseFloat(e.depositMax).toFixed(o>8?8:o).replace(/\.?0+$/,""):e.depositMax,[n?parseFloat(e.depositMin).toFixed(o>8?8:o).replace(/\.?0+$/,""):e.depositMin,a])}(e);return(0,u.jsxs)("div",{className:"dark:text-smoke mb-8 mt-4 grid grid-rows-2 items-center gap-y-3 uppercase grid-cols-[1fr,2fr] md:grid-cols-[0.25fr,1fr] text-right md:w-fit","data-sentry-component":"VariableDepositLimits","data-sentry-source-file":"VariableDepositLimits.tsx",children:[(0,u.jsxs)("div",{className:"flex items-center w-fit md:mr-6",children:[(0,u.jsx)("span",{className:"font-display mr-2",children:"Minimum"}),(0,u.jsx)(ew.u,{id:"minimum-order-value",place:"top","data-sentry-element":"Tooltip","data-sentry-source-file":"VariableDepositLimits.tsx",children:(0,u.jsx)("p",{className:"text-flashbang-white my-0 normal-case",children:"Send at least ".concat(t," ").concat(e.depositMethod.asset,". If you send less, your ").concat(e.depositMethod.asset," might be REFUNDED.")})})]}),(0,u.jsx)("span",{className:"font-text dark:text-flashbang-white text-new-black text-xl font-bold sm:ml-4",children:"".concat(t," ").concat(e.depositMethod.asset)})," ",(0,u.jsxs)("div",{className:"flex items-center w-fit md:mr-6",children:[(0,u.jsx)("span",{className:"font-display mr-2",children:"Maximum"}),(0,u.jsx)(ew.u,{id:"maximum-order-value",place:"top","data-sentry-element":"Tooltip","data-sentry-source-file":"VariableDepositLimits.tsx",children:(0,u.jsx)("p",{className:"text-flashbang-white my-0 normal-case",children:"Send at most ".concat(s," ").concat(e.depositMethod.asset,". If you send more, your ").concat(e.depositMethod.asset," might be REFUNDED.")})})]}),(0,u.jsx)("span",{className:"font-text dark:text-flashbang-white text-new-black text-xl font-bold",children:"".concat(s," ").concat(e.depositMethod.asset)})]})},tq=()=>{var e;let{order:t}=(0,O.A)(),s=(0,g.useRouter)(),{data:a}=(0,I.Z)(),l=(0,L.Z)(),n=(0,_.Z)(),{setOrderId:r,clearSavedOrderId:d}=(0,H.M)(),{resetLedgerOrder:i,clearStoredLedgerOrder:o}=(0,eh.c5)(),{show:c}=(0,D.useIntercom)(),m=(0,ey.B)(),x=(null==t?void 0:null===(e=t.deposits[0])||void 0===e?void 0:e.status)===p.UserDepositStatus.dead;return(0,j.useEffect)(()=>{l&&d(),n&&(null==o||o())},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h1",{className:"text-left  text-3xl lg:mt-0 lg:text-4xl lg:leading-none",children:["Order ",x?"cancelled":"expired"]}),(0,u.jsx)("p",{className:"font-display mb-10 max-w-[56ch] text-left text-lg uppercase lg:max-w-[unset]",children:x?"Order cannot be processed or refunded, please contact support for more information.":"Sideshift.ai has not detected a deposit, your quoted rate is no longer available."}),(0,u.jsx)(eF,{"data-sentry-element":"DepositInformation","data-sentry-source-file":"ExpiredOrDead.tsx"}),(0,u.jsxs)("div",{className:"mt-10 flex flex-col gap-4 md:flex-row",children:[(0,u.jsx)(f.z,{role:"button",variant:"primary",buttonSize:"small",onClick:()=>{if(n){null==i||i();return}if(l){r(void 0);return}(0,ey.o)("".concat(null==t?void 0:t.depositMethod.id,"/").concat(null==t?void 0:t.settleMethod.id),a)?s.push("/".concat(null==t?void 0:t.depositMethod.id,"/").concat(null==t?void 0:t.settleMethod.id)):s.push(m)},"data-sentry-element":"Button","data-sentry-source-file":"ExpiredOrDead.tsx",children:"Shift Again"}),(0,u.jsx)(f.z,{role:"button",variant:"secondary",buttonSize:"small",onClick:c,"data-sentry-element":"Button","data-sentry-source-file":"ExpiredOrDead.tsx",children:"Contact Support"})]})]})};var tG={src:"/_next/static/media/error.fc9f66b5.svg",height:305,width:487,blurWidth:0,blurHeight:0};let tY=()=>{let{error:e}=(0,O.A)(),t=(0,g.useRouter)(),s=(0,L.Z)(),{setOrderId:a}=(0,H.M)(),{show:l}=(0,D.useIntercom)();return e?(0,u.jsxs)("section",{className:"mx-auto flex h-full max-w-[60rem] grow flex-col items-center justify-center","data-sentry-component":"OrderError","data-sentry-source-file":"OrderError.tsx",children:[(0,u.jsx)("div",{className:"relative my-4 h-32 w-48",children:(0,u.jsx)(eR(),{className:"absolute",src:tG,alt:"Error","data-sentry-element":"Image","data-sentry-source-file":"OrderError.tsx"})}),(0,u.jsx)("h1",{className:"mt-8 max-w-[56ch] text-3xl font-semibold",children:e.message||"Something went wrong"}),(0,u.jsxs)("div",{className:"mt-5 flex flex-col gap-4 md:flex-row",children:[(0,u.jsx)(f.z,{role:"button",variant:"primary",buttonSize:"small",onClick:()=>{if(!s){t.push("/");return}a(void 0)},"data-sentry-element":"Button","data-sentry-source-file":"OrderError.tsx",children:"Shift Again"}),(0,u.jsx)(f.z,{role:"button",variant:"secondary",buttonSize:"small",onClick:l,"data-sentry-element":"Button","data-sentry-source-file":"OrderError.tsx",children:"Contact Support"})]})]}):null};var tK=s(80833);let t$=()=>{let{order:e}=(0,O.A)();if(!e)return null;let{depositMethod:t,settleMethod:s,deposits:a}=e,l=a[a.length-1],n=(0,h.HN)(t),r=(0,h.HN)(s),d=(0,e_.o)(t),i=(0,e_.o)(s),o=!(0,eW.Z)(),c=(null==l?void 0:l.status)===p.UserDepositStatus.refunding;return(0,u.jsx)("div",{className:"my-0 mt-8 md:my-8 md:mt-0 flex w-72 justify-center md:w-96","data-sentry-component":"SwapAnimation","data-sentry-source-file":"SwapAnimation.tsx",children:(0,u.jsx)("div",{className:"scale-75 md:scale-100",children:(0,u.jsxs)("div",{className:"relative flex h-24 w-96 items-center justify-center",children:[(0,u.jsx)("div",{style:{animationDirection:"alternate-reverse"},className:"".concat(o?"animate-slide-and-merge":"translate-x-[-100%]"," absolute h-24 w-24"),children:(0,u.jsx)(tK.O,{token:{asset:s.displayName,network:s.network},tokenImage:c&&n?n:r,networkImage:c&&d||i||"",size:"xxLarge","data-sentry-element":"TokenImage","data-sentry-source-file":"SwapAnimation.tsx"})}),(0,u.jsx)("div",{className:"".concat(o?"animate-slide-and-merge":"translate-x-[100%]"," absolute h-24 w-24"),children:(0,u.jsx)(tK.O,{token:{asset:t.displayName,network:t.network},tokenImage:n,networkImage:d,size:"xxLarge","data-sentry-element":"TokenImage","data-sentry-source-file":"SwapAnimation.tsx"})})]})})})},tX=e=>{let t=e===p.B9.litecoin||e===p.B9.doge||e===p.B9.dash;return(0,tl.zs)(e)||(0,C.KD)(e)?"Processing deposit":"Waiting for ".concat(t?"2 confirmations":"1 confirmation"," ")},tJ=()=>{var e;let{order:t,txConfirmedInWallet:s}=(0,O.A)(),{data:a}=(0,I.Z)();if(!t)return null;let{deposits:l,depositMethod:n,settleMethod:r,refundMethodId:d}=t,i=l[l.length-1],o=null==a?void 0:null===(e=a.depositMethods)||void 0===e?void 0:e[(null==i?void 0:i.refundMethodId)||d||""],c=(null==i?void 0:i.refundAddress)||(null==t?void 0:t.refundAddress),m=t.settleAmount||(null==i?void 0:i.settleAmount)||(null==i?void 0:i.settleRate)&&(null==i?void 0:i.depositAmount)?(0,e0.xD)(t.settleAmount||(null==i?void 0:i.settleAmount)||p.ns.times((null==i?void 0:i.settleRate)||"0",null==i?void 0:i.depositAmount),10):null,x=(0,C.a8)(n,r),h=(null==i?void 0:i.status)===p.UserDepositStatus.processing&&null!==x,f=(()=>{if(0===l.length&&s)return"Transaction sent. waiting for confirmation";switch(null==i?void 0:i.status){case p.UserDepositStatus.pending:return tX(n.network);case p.UserDepositStatus.settling:return"Sending you ".concat(m||""," ").concat(r.asset);case p.UserDepositStatus.processing:return"Processing deposit";case p.UserDepositStatus.refunding:return"Refunding your ".concat((null==o?void 0:o.asset)||n.asset," ").concat((null==c?void 0:c.address)?"to ".concat((0,p.K1)(c.address)):"");default:return null}})();return(0,u.jsxs)("section",{className:"flex grow flex-col items-center","data-sentry-component":"OrderStatus","data-sentry-source-file":"OrderStatus.tsx",children:[(0,u.jsx)(t$,{"data-sentry-element":"SwapAnimation","data-sentry-source-file":"OrderStatus.tsx"}),f&&(0,u.jsxs)("h1",{"aria-live":"polite",className:"dark:text-flashbang-white font-display mb-2 text-2xl md:mb-6 md:text-4xl",children:[f,(0,u.jsx)(eQ,{})]}),h&&(0,u.jsxs)("p",{"aria-live":"polite",className:"dark:text-smoke mt-0",children:["Expected wait time is ",x,"."]})]})};function t0(){return(t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var t1=e=>j.createElement("svg",t0({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",viewBox:"0 0 28 28"},e),i||(i=j.createElement("path",{d:"M4 2a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-9a1 1 0 0 0-2 0v9H4V4h9a1 1 0 1 0 0-2z"})),o||(o=j.createElement("path",{d:"M14.7 14.72 24 5.4V9a1 1 0 0 0 2 0V3a1 1 0 0 0-1-1h-6a1 1 0 1 0 0 2h3.6l-9.32 9.28a1.002 1.002 0 0 0 .25 1.737 1 1 0 0 0 1.15-.337z"})));let t2=()=>(0,u.jsx)(t1,{className:"dark:fill-smoke fill-black h-[0.875rem] w-[0.875rem] flex items-center align-center","data-sentry-element":"ExternalLink","data-sentry-component":"StyledExternalLinkIcon","data-sentry-source-file":"TransactionDetails.tsx"}),t5=e=>{let{amount:t,assetIcon:s,assetName:a,action:l,networkIcon:n,txId:r,txUrl:d,usdValue:i}=e,{formatUsdToSelectedFiat:o}=(0,eA.n)();return(0,u.jsxs)("div",{"data-sentry-component":"TransactionDetails","data-sentry-source-file":"TransactionDetails.tsx",children:[(0,u.jsxs)("span",{className:"dark:text-smoke text-center uppercase flex items-center my-[1rem]",children:["Sideshift.ai ",l,d&&r&&(0,u.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"ml-2",children:(0,u.jsx)(ew.u,{id:"external-link-".concat(l,"-tooltip"),place:"top",Icon:t2,content:"View Transaction: ".concat(r.slice(0,4),"...").concat(r.slice(-4)),iconSize:"0.875rem"})})]}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsxs)("div",{className:"relative mr-5 h-8 w-8 lg:mr-10 lg:h-12 lg:w-12",children:[(0,u.jsx)(tK.O,{token:{asset:"".concat(a,"-icon"),network:"network-icon"},tokenImage:s,networkImage:n,size:"large","data-sentry-element":"TokenImage","data-sentry-source-file":"TransactionDetails.tsx"})," "]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-display dark:text-flashbang-white text-left text-lg uppercase",children:"".concat(t," ").concat(a)}),i&&(0,u.jsxs)("span",{className:"dark:text-smoke block text-left text-sm",children:[" ",o(i)]})]})]})]})};var t4=s(42627),t3=s(1760),t6=s(53970),t8=s(44991),t7=s(96294),t9=s(97886),se=s(1304);let st=()=>{let{accountSecret:e}=(0,se.k)(),[t,{loading:s}]=(0,em.D)(q.U_,{onError:()=>(0,ex.CF)({text:"Error setting refund address",type:"error"}),onCompleted:()=>(0,ex.CF)({text:"Refund address saved",type:"success"}),context:{headers:{"x-sideshift-secret":e}}});return{setRefundAddress:async(e,s,a)=>{await t({variables:{orderId:e,destination:{address:s,memo:a||void 0}}})},isSettingRefundAddress:s}},ss=()=>(0,u.jsx)(eR(),{width:32,height:32,className:"invert dark:invert-0",src:t6.Z,alt:"Scan QR Code","data-sentry-element":"Image","data-sentry-component":"QrIcon","data-sentry-source-file":"RefundForm.tsx"}),sa=()=>{var e,t,s;let[a,l]=(0,j.useState)(!1),{order:n,loading:r}=(0,O.A)(),{setRefundAddress:d,isSettingRefundAddress:i}=st(),{register:o,handleSubmit:x,setValue:p,trigger:h,watch:v,formState:{errors:g,isValid:y}}=(0,eY.cI)({defaultValues:{refundAddress:"",memo:void 0},reValidateMode:"onBlur"});if(r||!n)return null;let w=n.refundMethodId?n.settleMethod:n.depositMethod,b=i||!!(null===(e=n.refundAddress)||void 0===e?void 0:e.address)||!y,N=async e=>{let{refundAddress:t,memo:s}=e;await d(n.id,t,s)},k=async(e,t)=>(p(e,t),h(e)),M=()=>{l(e=>!e)},S=v("refundAddress");return(0,u.jsxs)("form",{onSubmit:x(N),className:"flex flex-col gap-5","data-sentry-component":"RefundForm","data-sentry-source-file":"RefundForm.tsx",children:[(0,u.jsxs)("fieldset",{children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(t3.N,(0,m._)((0,c._)({},o("refundAddress",{required:"Refund address is required",pattern:{value:tt.k,message:"Invalid refund address"}})),{label:"Refund Address",id:"refundAddress",Icon:ss,onClick:M,placeholder:(0,t9.Q)(w),errorMessage:null===(t=g.refundAddress)||void 0===t?void 0:t.message,className:"mt-1","data-sentry-element":"InputWithButton","data-sentry-source-file":"RefundForm.tsx"})),(0,u.jsx)("div",{className:"mt-6 flex w-full transform justify-center text-center duration-300 md:absolute md:right-24 md:top-[calc(50%+0.5rem)] md:mt-0 md:block md:w-auto md:-translate-y-1/2 ".concat(S?"invisible opacity-0":"visible opacity-100"),children:(0,u.jsx)(t8.Z,{method:n.depositMethod,fieldId:"refundAddress",setFormValue:k,"data-sentry-element":"AddressFromWallet","data-sentry-source-file":"RefundForm.tsx"})})]}),(0,u.jsx)(t7.Z,{settleAsset:n.depositMethod.asset,modalIsOpen:a,closeModal:M,inputId:"refundAddress",memoId:"memo",setFormValue:p,"data-sentry-element":"QrScanner","data-sentry-source-file":"RefundForm.tsx"})]}),w.hasMemo&&(0,u.jsxs)("fieldset",{children:[(0,u.jsx)(t4.I,(0,m._)((0,c._)({},o("memo",{pattern:{value:tt.N9,message:"Invalid memo"}})),{errorMessage:null===(s=g.memo)||void 0===s?void 0:s.message,id:"memo",placeholder:"Memo",className:"my-1",label:"Refund Memo"})),(0,u.jsx)("span",{className:"dark:text-smoke",children:"Typically required if you are refunding ".concat(w.asset," to an exchange")})]}),(0,u.jsx)(f.z,{role:"button",type:"submit",variant:"primary",disabled:b,isLoading:i,"data-sentry-element":"Button","data-sentry-source-file":"RefundForm.tsx",children:"Save Refund Address"})]})},sl=()=>{var e,t,s,a;let{order:l,loading:n}=(0,O.A)();if(n||!l)return null;let{depositMethod:r}=l,d=l.deposits.map(e=>e.reason).filter(e=>e&&e!==p.K5.review)[0],i=(0,C.Zd)(l.deposits),o=l.depositMethod.displayName,c=l.depositMethod.network,m=!!(null==l?void 0:null===(e=l.refundAddress)||void 0===e?void 0:e.address)||!!(null==i?void 0:null===(t=i.refundAddress)||void 0===t?void 0:t.address),x=!!c&&o.toLowerCase()!==c.toLowerCase();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{className:"text-left text-3xl lg:mt-0 lg:text-4xl lg:leading-none ".concat(d&&"mb-4"),children:m?(0,u.jsxs)(u.Fragment,{children:["Refund Address Submitted",(0,u.jsx)(eQ,{})]}):"Refund Address Required"}),d&&(0,u.jsxs)("p",{className:"font-display mb-6 text-left text-xl uppercase flex items-center",children:["Reason: ".concat(d)," ",d===p.K5.lowEffectiveRate&&(0,u.jsxs)(ew.u,{id:"low-effective-rate-tooltip",place:"top",className:"ml-2 items-center",children:["This happens when network fees are too high to process your shift. Please provide your"," ",l.depositMethod.asset," address below to receive a refund."]})]}),m?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(t5,{amount:i.depositAmount,assetIcon:(0,h.HN)(r),assetName:null===(s=l.depositMethod)||void 0===s?void 0:s.asset,action:"received",networkIcon:(0,e_.o)(r),txUrl:i.depositTxUrl,txId:i.depositTxid}),(0,u.jsx)("p",{className:"text-left uppercase font-display mb-4 mt-8",children:"Your Refund Address has been submitted. Your deposit will be refunded shortly."}),(0,u.jsxs)("p",{className:"text-left font-display",children:["Refund Address:\xa0",(0,u.jsx)("span",{className:"font-text select-all",children:null===(a=l.refundAddress)||void 0===a?void 0:a.address})]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(G.Z,{type:p.GO.NK.Warning,children:["Address must be able to receive ",l.depositMethod.asset,x?" on ".concat(c):""]}),(0,u.jsx)(sa,{})]})]})},sn=()=>{var e,t;let{order:s,loading:a}=(0,O.A)(),l=null==s?void 0:s.deposits[0];if(a||!l)return null;let{depositMethod:n}=s,r=!l.reason||l.reason===p.K5.review,d=s.refundAddress||(null===(e=s.deposits.find(e=>{let{status:t}=e;return"review"===t}))||void 0===e?void 0:e.refundAddress);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{className:"text-left text-3xl lg:mt-0 lg:text-4xl lg:leading-none",children:"Human review in progress"}),(0,u.jsx)(t5,{amount:l.depositAmount,assetIcon:(0,h.HN)(n),assetName:null===(t=s.depositMethod)||void 0===t?void 0:t.asset,action:"received",networkIcon:(0,e_.o)(n),txUrl:l.depositTxUrl,txId:l.depositTxid,"data-sentry-element":"TransactionDetails","data-sentry-source-file":"Review.tsx"}),(0,u.jsx)("p",{className:"font-display mb-0 text-left text-xl uppercase mt-8",children:"Order may be processed or refunded"}),(0,u.jsx)("p",{className:"font-display mt-1 text-left text-xl uppercase",children:r?"Contact support for more information":"Reason: ".concat(l.reason)}),!r&&!d&&(0,u.jsx)(sa,{})]})};var sr={src:"/_next/static/media/globe.51201071.svg",height:48,width:48,blurWidth:0,blurHeight:0},sd={src:"/_next/static/media/rate-arrow.d0dd4bb6.svg",height:15,width:26,blurWidth:0,blurHeight:0};let si=()=>(0,u.jsx)(tA.Z,{className:"dark:text-flashbang-white h-5 w-5 text-black","data-sentry-element":"CopyIcon","data-sentry-component":"StyledCopyIcon","data-sentry-source-file":"SettledOrRefunded.tsx"}),so=e=>{let{depositAssetName:t,settleAssetName:s,rate:a}=e;return(0,u.jsxs)("div",{className:"flex w-full flex-col gap-2 lg:flex-row lg:items-center","data-sentry-component":"RateDisplay","data-sentry-source-file":"SettledOrRefunded.tsx",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"w-10",children:(0,u.jsx)(eR(),{height:12,width:12,src:sd,alt:"Rate increase arrow",className:"h-3 w-auto invert dark:invert-0","data-sentry-element":"Image","data-sentry-source-file":"SettledOrRefunded.tsx"})}),(0,u.jsx)("span",{className:"dark:text-smoke whitespace-nowrap text-left text-lg uppercase",children:"Rate (1 ".concat(t,")")})]}),(0,u.jsx)("span",{className:"dark:text-flashbang-white ml-10 grow whitespace-nowrap text-lg font-thin uppercase lg:ml-0 lg:text-right",children:"".concat(a," ").concat(s)})]})},sc=e=>{let{networkFee:t}=e,{formatUsdToSelectedFiat:s}=(0,eA.n)();return(0,u.jsxs)("div",{className:"flex w-full flex-col gap-2 lg:flex-row lg:items-center","data-sentry-component":"NetworkFeeDisplay","data-sentry-source-file":"SettledOrRefunded.tsx",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"w-10",children:(0,u.jsx)(eR(),{src:eJ,alt:"Rate increase arrow",className:"h-5 invert dark:invert-0","data-sentry-element":"Image","data-sentry-source-file":"SettledOrRefunded.tsx"})}),(0,u.jsx)("span",{className:"dark:text-smoke whitespace-nowrap text-left text-lg uppercase",children:"Network fee"})]}),(0,u.jsx)("span",{className:"dark:text-flashbang-white ml-10 grow whitespace-nowrap text-lg font-thin uppercase lg:ml-0 lg:text-right",children:+t>0?"".concat(s(t)," "):"No fees"})]})},sm=()=>{var e,t,s;let{order:a}=(0,O.A)(),l=(0,ey.B)(),{data:n}=(0,I.Z)(),r=(0,g.useRouter)(),d=a&&(0,C.Zd)(a.deposits),i=(0,e7.u)({assetId:null==a?void 0:null===(e=a.settleMethod)||void 0===e?void 0:e.asset,amount:(null==d?void 0:d.settleAmount)||"0"}),o=(0,L.Z)(),c=(0,_.Z)(),{setOrderId:m,clearSavedOrderId:x}=(0,H.M)(),{clearStoredLedgerOrder:v,resetLedgerOrder:y}=(0,eh.c5)();if((0,j.useEffect)(()=>{o&&x(),c&&(null==v||v())},[]),!a||!d)return null;let{depositMethod:w,settleMethod:b,refundMethodId:N}=a,k=null==n?void 0:null===(t=n.depositMethods)||void 0===t?void 0:t[(null==d?void 0:d.refundMethodId)||N||""],M=d.refundAddress||a.refundAddress,S=d.networkFeePaidUsd,A=d.depositAmount||"0",T=d.status===p.UserDepositStatus.refunded,F=a.settleMethod.id===p.yw.saibal||b.id===p.yw.saibal,D=b.id===p.yw.svxai,R=d.settleAmount||d.settleRate&&p.ns.times(d.settleRate,d.depositAmount)||"0",E=d.settleRate?(0,p.m1)((0,p.t1)(d.settleRate,F?p.d2:b.decimals)):"0",z=(d.settleTxUrl||d.refundTxUrl)&&!F;return(0,u.jsxs)("div",{className:"mx-auto flex max-w-md flex-col justify-evenly pb-8 md:max-w-none md:flex-row md:gap-12","data-sentry-component":"SettledOrRefunded","data-sentry-source-file":"SettledOrRefunded.tsx",children:[(0,u.jsx)("div",{className:"border-r-darker-gray flex w-min flex-col justify-between md:border-r-[1px] md:pr-12",children:(0,u.jsx)("h1",{className:"leading-12 relative mt-0 max-w-sm text-left text-3xl sm:text-4xl lg:text-5xl",children:T?"Order Refunded":(0,u.jsxs)(u.Fragment,{children:[D?"Stake successful":"Shift Completed",(0,u.jsx)("br",{}),!T&&!D&&d.settledAtISO&&d.createdAtISO&&(0,u.jsxs)("p",{className:"md:text-lg text-base dark:text-smoke mt-4 text-start",children:["Your shift took ",((e,t)=>{let s=new Date(e).getTime()-new Date(t).getTime(),a=Math.floor(s/36e5),l=Math.floor(s%36e5/6e4),n=Math.floor(s%6e4/1e3);return a>0?["".concat(a," hour").concat(a>1?"s":""),l>0&&"".concat(l," minute").concat(l>1?"s":"")].filter(Boolean).join(" "):[l>0&&"".concat(l," minute").concat(l>1?"s":""),"".concat(n," second").concat(1!==n?"s":"")].filter(Boolean).join(" ")})(d.settledAtISO,d.createdAtISO),"."]})]})})}),(0,u.jsxs)("div",{className:"h-full flex-1",children:[(0,u.jsx)("div",{className:"border-darker-gray border-b-[1px] pb-8",children:(0,u.jsx)(t5,{amount:A,assetIcon:(0,h.HN)(w),assetName:null===(s=a.depositMethod)||void 0===s?void 0:s.asset,action:"received",networkIcon:(0,e_.o)(w),txUrl:d.depositTxUrl,txId:d.depositTxid,"data-sentry-element":"TransactionDetails","data-sentry-source-file":"SettledOrRefunded.tsx"})}),(0,u.jsx)("div",{className:"border-darker-gray border-b-[1px] pb-8 mt-8",children:T&&d.refundAmount?(0,u.jsx)(t5,{amount:d.refundAmount,assetIcon:(0,h.HN)(k||w),assetName:(null==k?void 0:k.asset)||(null==w?void 0:w.asset),action:"refunded",networkIcon:(0,e_.o)(k||w),usdValue:null,txUrl:d.refundTxUrl,txId:d.refundTxid}):(0,u.jsx)(t5,{amount:R,assetIcon:(0,h.HN)(b),assetName:b.asset,action:"sent",usdValue:i,networkIcon:(0,e_.o)(b),txUrl:d.settleTxUrl,txId:d.settleTxid})}),(0,u.jsxs)("div",{className:"mt-8 flex flex-col gap-6",children:[E&&!T&&(0,u.jsx)(so,{depositAssetName:a.depositMethod.asset,settleAssetName:a.settleMethod.asset,rate:E}),S&&(0,u.jsx)(sc,{networkFee:S}),(0,u.jsxs)("div",{className:"relative flex w-full flex-col gap-2 lg:flex-row lg:items-center",children:[(0,u.jsxs)("div",{className:"dark:text-smoke flex items-center",children:[(0,u.jsx)("div",{className:"w-10",children:(0,u.jsx)(eR(),{src:sr,height:24,width:24,className:"h-6 w-auto invert dark:invert-0",alt:"Address Icon","data-sentry-element":"Image","data-sentry-source-file":"SettledOrRefunded.tsx"})}),(0,u.jsxs)("span",{className:"whitespace-nowrap text-left text-lg uppercase",children:[T?"Refund":"Receiving"," Address"]})]}),(0,u.jsxs)("span",{className:"font-text dark:text-flashbang-white ml-10 flex grow items-center text-lg font-thin lg:ml-0 lg:justify-end",children:[M&&T?(0,p.K1)(M.address):(0,p.K1)(a.settleAddress.address),(0,u.jsx)("button",{"aria-label":"Copy ".concat(T?"Refund":"Receiving"," address"),className:"-right-2 ml-2 h-7 w-7 p-1 lg:absolute lg:translate-x-full",onClick:()=>(0,h.vQ)(T?(null==M?void 0:M.address)||"":a.settleAddress.address||"","address"),children:(0,u.jsx)(si,{"data-sentry-element":"StyledCopyIcon","data-sentry-source-file":"SettledOrRefunded.tsx"})})]})]})]}),(0,u.jsxs)("div",{className:"mt-16 flex flex-col justify-between gap-5 lg:flex-row",children:[(0,u.jsx)(f.z,{className:"h-16 px-10 tracking-wider",role:"button",variant:"primary",buttonSize:"dynamic",onClick:()=>{if(c){null==y||y();return}if(o){m(void 0);return}(0,ey.o)("".concat(null==a?void 0:a.depositMethod.id,"/").concat(null==a?void 0:a.settleMethod.id),n)?r.push("/".concat(null==a?void 0:a.depositMethod.id,"/").concat(null==a?void 0:a.settleMethod.id)):r.push(l)},"data-sentry-element":"Button","data-sentry-source-file":"SettledOrRefunded.tsx",children:D?"Stake Again":"Shift Again"}),(0,u.jsxs)("div",{className:"flex flex-col ".concat(z?"justify-between":"justify-center"),children:[z&&(0,u.jsx)("a",{href:d.settleTxUrl||d.refundTxUrl||"",target:"_blank",rel:"noopener noreferrer",className:"dark:text-smoke flex justify-end whitespace-nowrap underline mb-2 lg:mb-0 mx-auto lg:mx-0",children:"View transaction"}),(0,u.jsx)("button",{className:"dark:text-smoke flex justify-end whitespace-nowrap underline p-0 mx-auto lg:mx-0",id:"intercom-feedback-button",children:"How did we do?"})]})]})]})]})},su=e=>{var t;let{transition:s,orderId:a}=e,{query:l}=(0,g.useRouter)(),{id:n}=l,{orderId:r}=(0,H.M)(),d=a||r||n,{enableSettledOrderTelegramBotAlert:i,enableTelegramPageRedirect:o}=(0,v.Vb)(),{logEvent:c}=(0,A.z)();(0,Z.X)({message:"Order id: ".concat(d," \n")});let m=(0,L.Z)(),x=(0,_.Z)(),{order:h,loading:j,error:w,txConfirmedInWallet:N}=(0,O.A)();E(h);let{linkTelegramModalIsOpen:k,toggleLinkTelegramModal:S,hasPairedTelegram:I}=z(),{handleHideWidget:C}=(0,Q.R)();F();let T=null!==h&&(null==h?void 0:null===(t=h.deposits)||void 0===t?void 0:t.length)>0,D=null==h?void 0:h.deposits[h.deposits.length-1],{pending:R,processing:U,settling:P,refunding:V,review:q,refund:Y,settled:$,dead:X,refunded:J}=p.UserDepositStatus,ee=!!(null==h?void 0:h.expired)||(null==D?void 0:D.status)===X,et=T&&[R,U,P,V].includes((null==D?void 0:D.status)||"")||N&&!T&&!ee,es=(null==D?void 0:D.status)===q,ea=(null==D?void 0:D.status)===Y,el=(null==D?void 0:D.status)===$,en=(null==D?void 0:D.status)===J,er=!I&&!(null==h?void 0:h.expired)&&et&&(null==D?void 0:D.status)!==Y;ei(),B();let ed=en||el,eo=(null==h?void 0:h.id)&&w;return d?w&&!eo?(0,u.jsx)(tY,{}):j||!h?s?null:(0,u.jsx)(K,{}):(0,u.jsxs)("div",{className:"md:pb-16 ".concat(ed&&"md:pt-16"),"data-sentry-component":"Order","data-sentry-source-file":"Order.tsx",children:[m&&(0,u.jsx)("div",{className:"mt-10",children:(0,u.jsx)("button",{className:"dark:text-flashbang-white text-new-black absolute right-2 top-2 z-10 cursor-pointer md:right-4 md:top-4",onClick:C,"aria-label":"Close SideShift.ai Widget",type:"button",children:(0,u.jsx)(y.Z,{className:"h-4 w-4"})})}),el&&i&&(0,u.jsx)("div",{className:"relative bottom-6",children:(0,u.jsx)(G.Z,{dismissable:!0,id:"telegram-bot-order-settled-alert",children:(0,u.jsx)("a",{href:o?W.XA.TELEGRAM_BOT.toString():"".concat(W.jY.TELEGRAM_BOT.toString(),"?start=from_order_page"),rel:"noopener noreferrer",target:o?"_self":"_blank",className:"dark:text-flashbang-white",onClick:()=>{c("Clicked Telegram Alert on Settled Order Page")},children:"NEW: Try shifting with our Telegram Bot!"})})}),ed?(0,u.jsx)(sm,{}):et?(0,u.jsx)("div",{className:"md:h-[20rem] flex items-center",children:(0,u.jsx)(tJ,{})}):ea?(0,u.jsx)(sl,{}):es?(0,u.jsx)(sn,{}):ee?(0,u.jsx)(tq,{}):T||N?null:x?(0,u.jsx)(tH,{}):(0,u.jsx)(tU,{}),er&&(0,u.jsxs)(f.z,{role:"button",variant:"secondary",buttonSize:"small",className:"mx-auto mt-4 md:mt-0 -mb-2 text-xs sm:text-sm",onClick:S,children:[(0,u.jsx)(b,{className:"h-5 w-5",alt:"Telegram logo"})," Get Notified on Telegram"]}),(0,u.jsx)(eg,{orderId:h.id,createdAtISO:h.createdAtISO,"data-sentry-element":"OrderFooter","data-sentry-source-file":"Order.tsx"}),(0,u.jsx)(M,{modalIsOpen:k,closeModal:S,"data-sentry-element":"LinkTelegramModal","data-sentry-source-file":"Order.tsx"})]}):null};var sx=e=>{var t;let{orderId:s,transition:a}=e,{query:l}=(0,g.useRouter)(),n=null===(t=l.id)||void 0===t?void 0:t.toString(),{error:r}=(0,I.Z)(),{data:d,loading:i,error:o,previousData:p,refetch:f}=(0,x.a)(q.ly,{variables:{orderId:s||n||""},skip:!s&&!n}),v=(null==d?void 0:d.order)?(0,m._)((0,c._)({},d.order),{depositMethod:(0,m._)((0,c._)({},d.order.depositMethod),{asset:(0,h.P3)(d.order.depositMethod)}),settleMethod:(0,m._)((0,c._)({},d.order.settleMethod),{asset:(0,h.P3)(d.order.settleMethod)})}):null,y=eo(v),j=i&&!v,w=v?"".concat(v.depositMethod.asset," -> ").concat(v.settleMethod.asset," - Order #").concat(v.id," - SideShift.ai"):P.Bm.order.title;return(0,u.jsxs)(S.u,{order:v,previousOrderData:null==p?void 0:p.order,loading:j,error:o||r,refetchOrder:f,"data-sentry-element":"OrderProvider","data-sentry-component":"OrderWithQuery","data-sentry-source-file":"Order.tsx",children:[(0,u.jsx)(V.h,{title:w,description:P.Bm.order.description,favicon:y,"data-sentry-element":"WebsiteMeta","data-sentry-source-file":"Order.tsx"}),(0,u.jsx)(su,{transition:a,orderId:s,"data-sentry-element":"Order","data-sentry-source-file":"Order.tsx"})]})}},97001:function(e,t,s){"use strict";s.d(t,{o:function(){return l},y:function(){return n}});let a=["Unexpected token '<'"],l=e=>a.map(e=>e.toLowerCase()).some(t=>e.toLowerCase().includes(t))?null:e,n=e=>{let t="An error occurred";return"shortMessage"in e?t=e.shortMessage:e.message&&(t=e.message),t}},35389:function(e,t,s){"use strict";s.d(t,{v:function(){return v}});var a=s(27306),l=s(63532),n=s(56536),r=s(42544),d=s(6614);let i=(0,l.L)(),o=(0,n.D)({appName:"SideShift.ai",jsonRpcUrl:a.Ay.ethereum.rpcUrls.default.http[0]}),c=(0,r.a)({showQrModal:!s.g.IS_VITEST,projectId:d.Fu||""}),m=s.g.IS_VITEST?{injected:i}:{coinbaseWallet:o,walletConnect:c};var u=s(56526),x=s(97352),p=s(42586),h=s(12329);let f=Object.values(a.Ay),v=(0,h._)({chains:f,multiInjectedProviderDiscovery:!0,ssr:!1,client:e=>{let{chain:t}=e;return(0,u.e)({chain:t,transport:(0,x.t)([(0,p.d)(),(0,p.d)()],{rank:!0})})},connectors:Object.values(m)})},54754:function(e){e.exports={loadingDots:"LoadingDots_loadingDots__QjvsG",dots:"LoadingDots_dots__28kzb"}}}]);